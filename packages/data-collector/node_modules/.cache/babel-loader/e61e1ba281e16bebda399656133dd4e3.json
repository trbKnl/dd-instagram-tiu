{"ast":null,"code":"var _jsxFileName = \"/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/data-collector/src/components/questionnaire/multiple_choice_question_checkbox.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Translator, Title3 } from \"@eyra/feldspar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MultipleChoiceQuestionCheckbox = props => {\n  _s();\n  const {\n    question,\n    choices,\n    id,\n    parentSetter,\n    locale\n  } = props;\n  const [selectedChoices, setSelectedChoices] = React.useState([]);\n  const copy = prepareCopy(locale);\n  const setParentState = () => {\n    parentSetter(prevState => {\n      prevState[id] = selectedChoices;\n      return prevState;\n    });\n  };\n  React.useEffect(() => {\n    setParentState();\n  });\n  const handleChoiceSelect = event => {\n    const {\n      value,\n      checked\n    } = event.target;\n    if (checked) {\n      setSelectedChoices(prevSelectedChoices => [...prevSelectedChoices, value]);\n    } else {\n      setSelectedChoices(prevSelectedChoices => prevSelectedChoices.filter(choice => choice !== value));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Title3, {\n      text: copy.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"mt-4 space-y-1\",\n      children: copy.choices.map((choice, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"choice\",\n            value: choice,\n            checked: selectedChoices.includes(choice),\n            onChange: handleChoiceSelect,\n            className: \"mr-1 form-checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), choice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n  function prepareCopy(locale) {\n    return {\n      choices: choices.map(choice => Translator.translate(choice, locale)),\n      question: Translator.translate(question, locale)\n    };\n  }\n};\n_s(MultipleChoiceQuestionCheckbox, \"eGIovawPmvRb++DNvHuhfb7hRYA=\");\n_c = MultipleChoiceQuestionCheckbox;\nvar _c;\n$RefreshReg$(_c, \"MultipleChoiceQuestionCheckbox\");","map":{"version":3,"names":["React","Translator","Title3","jsxDEV","_jsxDEV","MultipleChoiceQuestionCheckbox","props","_s","question","choices","id","parentSetter","locale","selectedChoices","setSelectedChoices","useState","copy","prepareCopy","setParentState","prevState","useEffect","handleChoiceSelect","event","value","checked","target","prevSelectedChoices","filter","choice","className","children","text","fileName","_jsxFileName","lineNumber","columnNumber","map","index","type","name","includes","onChange","translate","_c","$RefreshReg$"],"sources":["/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/data-collector/src/components/questionnaire/multiple_choice_question_checkbox.tsx"],"sourcesContent":["import React from 'react'\nimport {\n  Translator,\n  ReactFactoryContext,\n  Title3,\n} from \"@eyra/feldspar\"\n\nimport { PropsUIQuestionMultipleChoiceCheckbox } from './types'\n\ninterface parentSetter {\n  parentSetter: (arg: any) => any\n}\n\ntype Props = PropsUIQuestionMultipleChoiceCheckbox & parentSetter & ReactFactoryContext\n\nexport const MultipleChoiceQuestionCheckbox = (props: Props): JSX.Element => {\n  const { question, choices, id, parentSetter, locale } = props\n  const [selectedChoices, setSelectedChoices] = React.useState<string[]>([]);\n\n  const copy = prepareCopy(locale)\n\n  const setParentState = ()  => {\n    parentSetter((prevState: any) => {\n       prevState[id] = selectedChoices\n       return prevState\n    })\n  }\n\n  React.useEffect(() => {\n      setParentState()\n  })\n\n  const handleChoiceSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value, checked } = event.target;\n    if (checked) {\n      setSelectedChoices((prevSelectedChoices) => [\n        ...prevSelectedChoices,\n        value,\n      ]);\n    } else {\n      setSelectedChoices((prevSelectedChoices) =>\n        prevSelectedChoices.filter((choice) => choice !== value)\n      );\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <Title3 text={copy.question} />\n      <ul className=\"mt-4 space-y-1\">\n        {copy.choices.map((choice, index) => (\n          <li key={index}>\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"choice\"\n                value={choice}\n                checked={selectedChoices.includes(choice)}\n                onChange={handleChoiceSelect}\n                className=\"mr-1 form-checkbox\"\n              />\n              {choice}\n            </label>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n\n  function prepareCopy (locale: string): Copy {\n    return {\n      choices: choices.map((choice) => Translator.translate(choice, locale)),\n      question: Translator.translate(question, locale)\n    }\n  }\n}\n\ninterface Copy {\n  choices: string[]\n  question: string\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}