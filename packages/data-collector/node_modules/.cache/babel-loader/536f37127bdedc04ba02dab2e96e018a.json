{"ast":null,"code":"var _jsxFileName = \"/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/data-collector/src/components/consent_form_viz/consent_form_viz.tsx\",\n  _s = $RefreshSig$();\nimport { LabelButton, PrimaryButton, BodyLarge, Translator } from \"@eyra/feldspar\";\nimport TextBundle from \"@eyra/feldspar\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport _ from \"lodash\";\nimport { TableContainer } from \"./table_container\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ConsentFormViz = props => {\n  _s();\n  const [tables, setTables] = useState(() => parseTables(props.tables));\n  const {\n    locale,\n    resolve\n  } = props;\n  const {\n    description,\n    donateQuestion,\n    donateButton,\n    cancelButton\n  } = prepareCopy(props);\n  const [isDonating, setIsDonating] = useState(false);\n  useEffect(() => {\n    setTables(parseTables(props.tables));\n  }, [props.tables]);\n  const updateTable = useCallback((tableId, table) => {\n    setTables(tables => {\n      const index = tables.findIndex(table => table.id === tableId);\n      if (index === -1) return tables;\n      const newTables = [...tables];\n      newTables[index] = table;\n      return newTables;\n    });\n  }, []);\n  function rowCell(dataFrame, column, row) {\n    const text = String(dataFrame[column][`${row}`]);\n    return text;\n  }\n  function columnNames(dataFrame) {\n    return Object.keys(dataFrame);\n  }\n  function columnCount(dataFrame) {\n    return columnNames(dataFrame).length;\n  }\n  function rowCount(dataFrame) {\n    if (columnCount(dataFrame) === 0) {\n      return 0;\n    } else {\n      const firstColumn = dataFrame[columnNames(dataFrame)[0]];\n      return Object.keys(firstColumn).length - 1;\n    }\n  }\n  function rows(data) {\n    const result = [];\n    const n = rowCount(data);\n    for (let row = 0; row <= n; row++) {\n      const id = `${row}`;\n      const cells = columnNames(data).map(column => rowCell(data, column, row));\n      result.push({\n        id,\n        cells\n      });\n    }\n    return result;\n  }\n  function parseTables(tablesData) {\n    return tablesData.map(table => parseTable(table));\n  }\n  function parseTable(tableData) {\n    const id = tableData.id;\n    const title = Translator.translate(tableData.title, props.locale);\n    const description = tableData.description !== undefined ? Translator.translate(tableData.description, props.locale) : \"\";\n    const deletedRowCount = 0;\n    const dataFrame = loadDataFrame(tableData.data_frame);\n    const headCells = columnNames(dataFrame).map(column => column);\n    const head = {\n      cells: headCells\n    };\n    const body = {\n      rows: rows(dataFrame)\n    };\n    return {\n      __type__: \"PropsUITable\",\n      id,\n      head,\n      body,\n      title,\n      description,\n      deletedRowCount,\n      annotations: [],\n      originalBody: body,\n      deletedRows: [],\n      visualizations: tableData.visualizations,\n      folded: tableData.folded || false,\n      deleteOption: tableData.delete_option\n    };\n  }\n  function handleDonate() {\n    setIsDonating(true);\n    const value = serializeConsentData();\n    resolve === null || resolve === void 0 ? void 0 : resolve({\n      __type__: \"PayloadJSON\",\n      \"value\": value\n    });\n  }\n  function handleCancel() {\n    resolve === null || resolve === void 0 ? void 0 : resolve({\n      __type__: \"PayloadFalse\",\n      value: false\n    });\n  }\n  function serializeConsentData() {\n    const array = serializeTables();\n    return JSON.stringify(array);\n  }\n  function serializeTables() {\n    return tables.map(table => serializeTable(table));\n  }\n  function serializeTable({\n    id,\n    head,\n    body: {\n      rows\n    }\n  }) {\n    const data = rows.map(row => serializeRow(row, head));\n    return {\n      [id]: data\n    };\n  }\n  function serializeRow(row, head) {\n    const keys = head.cells.map(cell => cell);\n    const values = row.cells.map(cell => cell);\n    return _.fromPairs(_.zip(keys, values));\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl\",\n      children: description.split(\"\\n\").map((line, index) => /*#__PURE__*/_jsxDEV(BodyLarge, {\n        text: line\n      }, \"description\" + String(index), false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-16 w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-8 max-w-full\",\n        children: tables.map(table => {\n          return /*#__PURE__*/_jsxDEV(TableContainer, {\n            id: table.id,\n            table: table,\n            updateTable: updateTable,\n            locale: locale\n          }, table.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(BodyLarge, {\n          margin: \"\",\n          text: donateQuestion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row gap-4 mt-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(PrimaryButton, {\n            label: donateButton,\n            onClick: handleDonate,\n            color: \"bg-success text-white\",\n            spinning: isDonating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LabelButton, {\n            label: cancelButton,\n            onClick: handleCancel,\n            color: \"text-grey1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ConsentFormViz, \"gWF9q3WZgt7hr5M5/cICEbh2czM=\");\n_c = ConsentFormViz;\nfunction prepareCopy({\n  donateQuestion,\n  donateButton,\n  description,\n  locale\n}) {\n  return {\n    description: Translator.translate(description !== null && description !== void 0 ? description : defaultDescription, locale),\n    donateQuestion: Translator.translate(donateQuestion !== null && donateQuestion !== void 0 ? donateQuestion : defaultDonateQuestionLabel, locale),\n    donateButton: Translator.translate(donateButton !== null && donateButton !== void 0 ? donateButton : defaultDonateButtonLabel, locale),\n    cancelButton: Translator.translate(defaultCancelButtonLabel, locale)\n  };\n}\nfunction loadDataFrame(dataFrame) {\n  if (typeof dataFrame === \"string\") {\n    return JSON.parse(dataFrame);\n  }\n  return dataFrame;\n}\nconst defaultDonateQuestionLabel = new TextBundle().add('en', 'Do you want to share the above data?').add('de', 'Möchten Sie die oben genannten Daten teilen?').add('nl', 'Wilt u de bovenstaande gegevens delen?');\nconst defaultDonateButtonLabel = new TextBundle().add('en', 'Yes, share for research').add('de', 'Ja, für Forschung teilen').add('nl', 'Ja, deel voor onderzoek');\nconst defaultCancelButtonLabel = new TextBundle().add('en', 'No').add('de', 'Nein').add('nl', 'Nee');\nconst defaultDescription = new TextBundle().add('en', 'Determine whether you would like to share the data below. Carefully check the data and adjust when required. With your contribution, you help the previously described research. Thank you in advance.').add('de', 'Legen Sie fest, ob Sie die untenstehenden Daten teilen möchten. Überprüfen Sie die Daten sorgfältig und passen Sie sie bei Bedarf an. Mit Ihrem Beitrag helfen Sie der zuvor beschriebenen Forschung. Vielen Dank im Voraus.').add('nl', 'Bepaal of u de onderstaande gegevens wilt delen. Bekijk de gegevens zorgvuldig en pas zo nodig aan. Met uw bijdrage helpt u het eerder beschreven onderzoek. Alvast hartelijk dank.');\nvar _c;\n$RefreshReg$(_c, \"ConsentFormViz\");","map":{"version":3,"names":["LabelButton","PrimaryButton","BodyLarge","Translator","TextBundle","useCallback","useEffect","useState","_","TableContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","ConsentFormViz","props","_s","tables","setTables","parseTables","locale","resolve","description","donateQuestion","donateButton","cancelButton","prepareCopy","isDonating","setIsDonating","updateTable","tableId","table","index","findIndex","id","newTables","rowCell","dataFrame","column","row","text","String","columnNames","Object","keys","columnCount","length","rowCount","firstColumn","rows","data","result","n","cells","map","push","tablesData","parseTable","tableData","title","translate","undefined","deletedRowCount","loadDataFrame","data_frame","headCells","head","body","__type__","annotations","originalBody","deletedRows","visualizations","folded","deleteOption","delete_option","handleDonate","value","serializeConsentData","handleCancel","array","serializeTables","JSON","stringify","serializeTable","serializeRow","cell","values","fromPairs","zip","children","className","split","line","fileName","_jsxFileName","lineNumber","columnNumber","margin","label","onClick","color","spinning","_c","defaultDescription","defaultDonateQuestionLabel","defaultDonateButtonLabel","defaultCancelButtonLabel","parse","add","$RefreshReg$"],"sources":["/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/data-collector/src/components/consent_form_viz/consent_form_viz.tsx"],"sourcesContent":["import {\n  LabelButton,\n  PrimaryButton,\n  BodyLarge,\n  Translator,\n  ReactFactoryContext,\n} from \"@eyra/feldspar\"\nimport TextBundle from \"@eyra/feldspar\"\nimport { \n    TableWithContext,\n    TableContext,\n    PropsUITable,\n    PropsUITableBody,\n    PropsUITableHead,\n    PropsUIPromptConsentFormViz,\n    PropsUIPromptConsentFormTableViz,\n    PropsUITableRow,\n} from \"./types\"\nimport { useCallback, useEffect, useState } from \"react\"\nimport _ from \"lodash\"\nimport { TableContainer } from \"./table_container\"\n\ntype Props = PropsUIPromptConsentFormViz & ReactFactoryContext\n\nexport const ConsentFormViz = (props: Props): JSX.Element => {\n  const [tables, setTables] = useState<TableWithContext[]>(() => parseTables(props.tables))\n  const { locale, resolve } = props\n  const { description, donateQuestion, donateButton, cancelButton } = prepareCopy(props)\n  const [isDonating, setIsDonating] = useState(false)\n\n  useEffect(() => {\n    setTables(parseTables(props.tables))\n  }, [props.tables])\n\n  const updateTable = useCallback((tableId: string, table: TableWithContext) => {\n    setTables((tables) => {\n      const index = tables.findIndex((table) => table.id === tableId)\n      if (index === -1) return tables\n\n      const newTables = [...tables]\n      newTables[index] = table\n      return newTables\n    })\n  }, [])\n\n  function rowCell(dataFrame: any, column: string, row: number): string {\n    const text = String(dataFrame[column][`${row}`])\n    return text\n  }\n\n  function columnNames(dataFrame: any): string[] {\n    return Object.keys(dataFrame)\n  }\n\n  function columnCount(dataFrame: any): number {\n    return columnNames(dataFrame).length\n  }\n\n  function rowCount(dataFrame: any): number {\n    if (columnCount(dataFrame) === 0) {\n      return 0\n    } else {\n      const firstColumn = dataFrame[columnNames(dataFrame)[0]]\n      return Object.keys(firstColumn).length - 1\n    }\n  }\n\n  function rows(data: any): PropsUITableRow[] {\n    const result: PropsUITableRow[] = []\n    const n = rowCount(data)\n    for (let row = 0; row <= n; row++) {\n      const id = `${row}`\n      const cells = columnNames(data).map((column: string) => rowCell(data, column, row))\n      result.push({ id, cells })\n    }\n    return result\n  }\n\n  function parseTables(tablesData: PropsUIPromptConsentFormTableViz[]): Array<PropsUITable & TableContext> {\n    return tablesData.map((table) => parseTable(table))\n  }\n\n  function parseTable(tableData: PropsUIPromptConsentFormTableViz): PropsUITable & TableContext {\n    const id = tableData.id\n    const title = Translator.translate(tableData.title, props.locale)\n    const description =\n      tableData.description !== undefined ? Translator.translate(tableData.description, props.locale) : \"\"\n    const deletedRowCount = 0\n    const dataFrame = loadDataFrame(tableData.data_frame)\n    const headCells = columnNames(dataFrame).map((column: string) => column)\n    const head: PropsUITableHead = {\n      cells: headCells,\n    }\n    const body: PropsUITableBody = {\n      rows: rows(dataFrame),\n    }\n    return {\n      __type__: \"PropsUITable\",\n      id,\n      head,\n      body,\n      title,\n      description,\n      deletedRowCount,\n      annotations: [],\n      originalBody: body,\n      deletedRows: [],\n      visualizations: tableData.visualizations,\n      folded: tableData.folded || false,\n      deleteOption: tableData.delete_option,\n    }\n  }\n\n  function handleDonate(): void {\n    setIsDonating(true)\n    const value = serializeConsentData()\n    resolve?.({ __type__: \"PayloadJSON\", \"value\": value })\n  }\n\n  function handleCancel(): void {\n    resolve?.({ __type__: \"PayloadFalse\", value: false })\n  }\n\n  function serializeConsentData(): string {\n    const array = serializeTables()\n    return JSON.stringify(array)\n  }\n\n  function serializeTables(): any[] {\n    return tables.map((table) => serializeTable(table))\n  }\n\n\n  function serializeTable({ id, head, body: { rows } }: PropsUITable): any {\n    const data = rows.map((row) => serializeRow(row, head))\n    return { [id]: data }\n  }\n\n  function serializeRow(row: PropsUITableRow, head: PropsUITableHead): any {\n    const keys = head.cells.map((cell) => cell)\n    const values = row.cells.map((cell) => cell)\n    return _.fromPairs(_.zip(keys, values))\n  }\n\n  return (\n    <>\n      <div className=\"max-w-3xl\">\n        {description.split(\"\\n\").map((line, index) => (\n          <BodyLarge key={\"description\" + String(index)} text={line} />\n        ))}\n      </div>\n      <div className=\"flex flex-col gap-16 w-full\">\n        <div className=\"grid gap-8 max-w-full\">\n          {tables.map((table) => {\n            return (\n              <TableContainer key={table.id} id={table.id} table={table} updateTable={updateTable} locale={locale} />\n            )\n          })}\n        </div>\n        <div>\n          <BodyLarge margin=\"\" text={donateQuestion} />\n\n          <div className=\"flex flex-row gap-4 mt-4 mb-4\">\n            <PrimaryButton\n              label={donateButton}\n              onClick={handleDonate}\n              color=\"bg-success text-white\"\n              spinning={isDonating}\n            />\n            <LabelButton label={cancelButton} onClick={handleCancel} color=\"text-grey1\" />\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\ninterface Copy {\n  description: string\n  donateQuestion: string\n  donateButton: string\n  cancelButton: string\n}\n\nfunction prepareCopy({ donateQuestion, donateButton, description, locale }: Props): Copy {\n  return {\n    description: Translator.translate(description ?? defaultDescription, locale),\n    donateQuestion: Translator.translate(donateQuestion ?? defaultDonateQuestionLabel, locale),\n    donateButton: Translator.translate(donateButton ?? defaultDonateButtonLabel, locale),\n    cancelButton: Translator.translate(defaultCancelButtonLabel, locale),\n  }\n}\n\nfunction loadDataFrame(dataFrame: any) {\n  if (typeof dataFrame === \"string\") {\n      return JSON.parse(dataFrame)\n  } \n  return dataFrame;\n}\n\nconst defaultDonateQuestionLabel = new TextBundle()\n  .add('en', 'Do you want to share the above data?')\n  .add('de', 'Möchten Sie die oben genannten Daten teilen?')\n  .add('nl', 'Wilt u de bovenstaande gegevens delen?')\n\nconst defaultDonateButtonLabel = new TextBundle()\n  .add('en', 'Yes, share for research')\n  .add('de', 'Ja, für Forschung teilen')\n  .add('nl', 'Ja, deel voor onderzoek')\n\nconst defaultCancelButtonLabel = new TextBundle()\n  .add('en', 'No')\n  .add('de', 'Nein')\n  .add('nl', 'Nee')\n\nconst defaultDescription = new TextBundle()\n  .add('en', 'Determine whether you would like to share the data below. Carefully check the data and adjust when required. With your contribution, you help the previously described research. Thank you in advance.')\n  .add('de', 'Legen Sie fest, ob Sie die untenstehenden Daten teilen möchten. Überprüfen Sie die Daten sorgfältig und passen Sie sie bei Bedarf an. Mit Ihrem Beitrag helfen Sie der zuvor beschriebenen Forschung. Vielen Dank im Voraus.')\n  .add('nl', 'Bepaal of u de onderstaande gegevens wilt delen. Bekijk de gegevens zorgvuldig en pas zo nodig aan. Met uw bijdrage helpt u het eerder beschreven onderzoek. Alvast hartelijk dank.')\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}