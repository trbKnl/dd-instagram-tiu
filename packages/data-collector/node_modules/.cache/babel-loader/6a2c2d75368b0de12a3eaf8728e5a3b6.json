{"ast":null,"code":"import * as e from \"react\";\nimport t, { useMemo as n, forwardRef as a, useState as r, useCallback as o, createContext as l, useContext as i, useRef as c, useEffect as s } from \"react\";\nimport d from \"lodash\";\nvar u = function () {\n  return u = Object.assign || function (e) {\n    for (var t, n = 1, a = arguments.length; n < a; n++) for (var r in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n    return e;\n  }, u.apply(this, arguments);\n};\nfunction m(e, t, n, a) {\n  return new (n || (n = Promise))(function (r, o) {\n    function l(e) {\n      try {\n        c(a.next(e));\n      } catch (e) {\n        o(e);\n      }\n    }\n    function i(e) {\n      try {\n        c(a.throw(e));\n      } catch (e) {\n        o(e);\n      }\n    }\n    function c(e) {\n      var t;\n      e.done ? r(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n        e(t);\n      })).then(l, i);\n    }\n    c((a = a.apply(e, t || [])).next());\n  });\n}\nfunction f(e, t) {\n  var n,\n    a,\n    r,\n    o = {\n      label: 0,\n      sent: function () {\n        if (1 & r[0]) throw r[1];\n        return r[1];\n      },\n      trys: [],\n      ops: []\n    },\n    l = Object.create((\"function\" == typeof Iterator ? Iterator : Object).prototype);\n  return l.next = i(0), l.throw = i(1), l.return = i(2), \"function\" == typeof Symbol && (l[Symbol.iterator] = function () {\n    return this;\n  }), l;\n  function i(i) {\n    return function (c) {\n      return function (i) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n        for (; l && (l = 0, i[0] && (o = 0)), o;) try {\n          if (n = 1, a && (r = 2 & i[0] ? a.return : i[0] ? a.throw || ((r = a.return) && r.call(a), 0) : a.next) && !(r = r.call(a, i[1])).done) return r;\n          switch (a = 0, r && (i = [2 & i[0], r.value]), i[0]) {\n            case 0:\n            case 1:\n              r = i;\n              break;\n            case 4:\n              return o.label++, {\n                value: i[1],\n                done: !1\n              };\n            case 5:\n              o.label++, a = i[1], i = [0];\n              continue;\n            case 7:\n              i = o.ops.pop(), o.trys.pop();\n              continue;\n            default:\n              if (!(r = o.trys, (r = r.length > 0 && r[r.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                o = 0;\n                continue;\n              }\n              if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {\n                o.label = i[1];\n                break;\n              }\n              if (6 === i[0] && o.label < r[1]) {\n                o.label = r[1], r = i;\n                break;\n              }\n              if (r && o.label < r[2]) {\n                o.label = r[2], o.ops.push(i);\n                break;\n              }\n              r[2] && o.ops.pop(), o.trys.pop();\n              continue;\n          }\n          i = t.call(e, o);\n        } catch (e) {\n          i = [6, e], a = 0;\n        } finally {\n          n = r = 0;\n        }\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, c]);\n    };\n  }\n}\nfunction p(e, t, n) {\n  if (n || 2 === arguments.length) for (var a, r = 0, o = t.length; r < o; r++) !a && r in t || (a || (a = Array.prototype.slice.call(t, 0, r)), a[r] = t[r]);\n  return e.concat(a || Array.prototype.slice.call(t));\n}\n\"function\" == typeof SuppressedError && SuppressedError;\nvar g = function () {\n    function e(e) {\n      this.factory = e;\n    }\n    return e.prototype.start = function (e, t, n) {\n      console.log(\"[ReactEngine] started\"), this.locale = t, this.setState = n;\n    }, e.prototype.render = function (e) {\n      return m(this, void 0, void 0, function () {\n        var t;\n        return f(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return console.debug(\"[ReactEngine] render\", e), [4, this.renderPage(e.page)];\n            case 1:\n              return t = n.sent(), console.log(\"[ReactEngine] render done\", e, t), [2, {\n                __type__: \"Response\",\n                command: e,\n                payload: t\n              }];\n          }\n        });\n      });\n    }, e.prototype.renderPage = function (e) {\n      var t = this;\n      return new Promise(function (n) {\n        var a = {\n            locale: t.locale,\n            resolve: n\n          },\n          r = t.factory.createPage(e, a);\n        t.updateElements([r]);\n      });\n    }, e.prototype.updateElements = function (e) {\n      if (this.setState) {\n        var n = e.map(function (e, n) {\n          return t.cloneElement(e, {\n            key: \"feldspar-element-\".concat(n)\n          });\n        });\n        this.setState({\n          elements: n\n        });\n      }\n    }, e.prototype.terminate = function () {\n      this.setState = void 0;\n    }, e;\n  }(),\n  v = function (e, t, n) {\n    return (null == e ? void 0 : e.__type__) === t && h(e, n);\n  },\n  h = function (e, t) {\n    return t.forEach(function (t) {\n      return function (e, t) {\n        if (!1 === e) throw new Error(t);\n      }(void 0 !== e[t], \"Property \".concat(String(t), \" is required\"));\n    }), !0;\n  };\nfunction x(e) {\n  return v(e, \"PropsUIPageDataSubmission\", [\"platform\", \"header\", \"body\"]);\n}\nfunction E(e) {\n  return v(e, \"PropsUIPageEnd\", []);\n}\nvar y = function (e) {\n    return t.createElement(\"div\", {\n      className: \"w-full h-full\"\n    }, e.body);\n  },\n  w = function () {\n    function e() {\n      this.translations = {}, this.defaultLocale = \"nl\";\n    }\n    return e.prototype.add = function (e, t) {\n      return this.translations[e] = t, this;\n    }, e.prototype.translate = function (e) {\n      return d.escape(this.resolve(e));\n    }, e.prototype.resolve = function (e) {\n      var t = this.translations[e];\n      if (null !== t) return t;\n      var n = this.translations[this.defaultLocale];\n      return null !== n ? n : Object.values(this.translations).length > 0 ? Object.values(this.translations)[0] : \"?text?\";\n    }, e;\n  }();\nvar b = {\n    translate: function (e, t) {\n      return \"string\" == typeof e ? e : h(e, [\"translations\"]) ? function (e, t) {\n        var n = e.translations[t];\n        if (null !== n) return n;\n        var a = e.translations.nl;\n        return null !== a ? a : Object.values(e.translations).length > 0 ? Object.values(e.translations)[0] : \"?text?\";\n      }(e, t) : void 0;\n    }\n  },\n  k = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"mb-6 md:mb-8 lg:mb-10\" : o;\n    return t.createElement(\"div\", {\n      className: \"text-bodylarge font-body \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  C = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"\" : o;\n    return t.createElement(\"div\", {\n      className: \"text-bodysmall font-body \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  D = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"mb-6 md:mb-8\" : o;\n    return t.createElement(\"h1\", {\n      className: \"text-title3 font-title3 sm:text-title2 lg:text-title1 lg:font-title1 \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  N = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"mb-6 md:mb-8 lg:mb-10\" : o;\n    return t.createElement(\"h2\", {\n      className: \"text-title4 font-title4 sm:text-title3 sm:font-title3 lg:text-title2 lg:font-title2 \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  _ = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"mb-3 md:mb-5 lg:mb-6\" : o;\n    return t.createElement(\"div\", {\n      className: \"text-title5 font-title5 sm:text-title4 sm:font-title4 lg:text-title3 lg:font-title3 \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  P = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"mb-3 md:mb-5 lg:mb-6\" : o;\n    return t.createElement(\"div\", {\n      className: \"text-title6 font-title6 sm:text-title5 sm:font-title5 lg:text-title4 lg:font-title4 \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  F = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"\" : o;\n    return t.createElement(\"div\", {\n      className: \"text-label font-label \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  S = function (e) {\n    var n = e.text,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.margin,\n      l = void 0 === o ? \"\" : o;\n    return t.createElement(\"div\", {\n      className: \"text-caption font-caption \".concat(r, \" \").concat(l)\n    }, n);\n  },\n  R = function (e) {\n    var n = L(e),\n      a = n.title,\n      r = n.text,\n      o = t.createElement(t.Fragment, null, t.createElement(D, {\n        text: a\n      }), t.createElement(k, {\n        text: r\n      }));\n    return t.createElement(y, {\n      body: o\n    });\n  };\nfunction L(e) {\n  var t = e.locale;\n  return {\n    title: b.translate(z, t),\n    text: b.translate(O, t)\n  };\n}\nvar z = new w().add(\"en\", \"Thank you\").add(\"de\", \"Danke\").add(\"it\", \"Grazie\").add(\"nl\", \"Bedankt\"),\n  O = new w().add(\"en\", \"Thank you for your participation. You can now close the page or refresh to restart the DataSubmission flow.\").add(\"de\", \"Herzlichen Dank für Ihre Teilnahme. Sie können diese Seite nun schließen oder die Seite aktualisieren, um die Datenspende erneut durchzuführen.\").add(\"it\", \"Grazie per la tua partecipazione. Ora puoi chiudere la pagina o aggiornare per riavviare il flusso di donazione.\").add(\"nl\", \"Hartelijk dank voor uw deelname. U kunt deze pagina nu sluiten of de pagina verversen om de flow nogmaals te doorlopen.\"),\n  j = function () {\n    function e() {}\n    return e.prototype.createPage = function (e, n) {\n      return E(e) ? t.createElement(R, u({}, e, n)) : null;\n    }, e;\n  }(),\n  I = function (e) {\n    var n = e.spinning,\n      a = void 0 === n || n,\n      r = e.color,\n      o = \"dark\" === (void 0 === r ? \"light\" : r) ? \"text-gray-600\" : \"text-white\";\n    return a ? t.createElement(\"div\", {\n      id: \"spinner\",\n      className: \"flex items-center justify-center\"\n    }, t.createElement(\"svg\", {\n      className: \"animate-spin -ml-1 mr-3 h-5 w-5 \".concat(o),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\"\n    }, t.createElement(\"circle\", {\n      className: \"opacity-25\",\n      cx: \"12\",\n      cy: \"12\",\n      r: \"10\",\n      stroke: \"currentColor\",\n      \"stroke-width\": \"4\"\n    }), t.createElement(\"path\", {\n      className: \"opacity-75\",\n      fill: \"currentColor\",\n      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n    }))) : t.createElement(\"div\", null);\n  };\nvar B = function (e) {\n    var n,\n      a = e.label,\n      r = e.spinning,\n      o = void 0 !== r && r,\n      l = e.enabled,\n      i = void 0 === l || l,\n      c = e.color,\n      s = void 0 === c ? \"bg-primary text-white\" : c,\n      d = e.onClick;\n    return t.createElement(\"div\", {\n      role: \"button\",\n      className: \"relative\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-col items-center leading-none font-button text-button rounded \".concat(i ? \"cursor-pointer active:shadow-top4px\" : \"\", \" \").concat(s),\n      onClick: d\n    }, t.createElement(\"div\", {\n      id: \"confirm-button\",\n      className: \"pt-15px pb-15px pr-4 pl-4 \".concat(i ? \"active:pt-4 active:pb-14px\" : \"\", \" \").concat(o ? \"opacity-0\" : \"\")\n    }, a)), t.createElement(\"div\", {\n      className: \"absolute top-0 h-full w-full flex flex-col justify-center items-center \".concat(o ? \"\" : \"hidden\")\n    }, t.createElement(\"div\", {\n      className: \"w-5 h-5\"\n    }, t.createElement(I, {\n      color: (n = s, n.includes(\"bg-tertiary\") ? \"dark\" : \"light\"),\n      spinning: o\n    }))));\n  },\n  U = function (e) {\n    var n = e.onClick;\n    return t.createElement(M, {\n      icon: \"data:image/svg+xml,%3Csvg%20width%3D%228%22%20height%3D%2213%22%20viewBox%3D%220%200%208%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M7.41%2011.09L2.83%206.5L7.41%201.91L6%200.5L0%206.5L6%2012.5L7.41%2011.09Z%22%20fill%3D%22%234272EF%22%2F%3E%3C%2Fsvg%3E\",\n      onClick: n\n    });\n  },\n  T = function (e) {\n    var n = e.onClick;\n    return t.createElement(M, {\n      icon: \"data:image/svg+xml,%3Csvg%20width%3D%228%22%20height%3D%2213%22%20viewBox%3D%220%200%208%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0.190186%2011.34L4.77019%206.75L0.190186%202.16L1.60019%200.75L7.60019%206.75L1.60019%2012.75L0.190186%2011.34Z%22%20fill%3D%22%234272EF%22%2F%3E%3C%2Fsvg%3E\",\n      onClick: n\n    });\n  },\n  M = function (e) {\n    var n = e.icon,\n      a = e.onClick;\n    return t.createElement(\"div\", {\n      role: \"button\",\n      className: \"active:pt-5px active:pb-3px focus:outline-none cursor-pointer w-6 h-6\",\n      onClick: a\n    }, t.createElement(\"div\", {\n      className: \"flex flex-col items-center h-full w-full\"\n    }, t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(\"div\", null, t.createElement(\"img\", {\n      className: \"-mt-2px\",\n      src: n\n    })), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    })));\n  },\n  A = function (e) {\n    var n = e.icon,\n      a = e.label,\n      r = e.color,\n      o = void 0 === r ? \"text-grey1\" : r,\n      l = e.alignment,\n      i = void 0 === l ? \"left\" : l,\n      c = e.onClick;\n    return t.createElement(\"div\", {\n      role: \"button\",\n      className: \"pt-1 pb-1 active:pt-5px active:pb-3px rounded bg-opacity-0 focus:outline-none cursor-pointer \",\n      onClick: c\n    }, t.createElement(\"div\", {\n      className: \"flex items-center\"\n    }, t.createElement(\"div\", {\n      className: \"\".concat(\"left\" === i ? \"\" : \"hidden\")\n    }, t.createElement(\"img\", {\n      className: \"mr-2 -mt-2px\",\n      src: n,\n      alt: a\n    })), t.createElement(\"div\", {\n      className: \"focus:outline-none\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-col justify-center h-full items-center\"\n    }, t.createElement(\"div\", {\n      className: \"flex-wrap text-button font-button \".concat(o)\n    }, a))), t.createElement(\"div\", {\n      className: \"\".concat(\"left\" !== i ? \"\" : \"hidden\")\n    }, t.createElement(\"img\", {\n      className: \"ml-2 -mt-2px\",\n      src: n,\n      alt: a\n    }))));\n  },\n  V = function (e) {\n    var n = e.label,\n      a = e.color,\n      r = void 0 === a ? \"text-grey1\" : a,\n      o = e.onClick;\n    return t.createElement(\"div\", {\n      role: \"button\",\n      className: \"pt-15px pb-15px active:pt-4 active:pb-14px leading-none font-button text-button rounded pr-4 pl-4 cursor-pointer bg-opacity-0 \".concat(r),\n      onClick: o\n    }, t.createElement(\"div\", {\n      id: \"confirm-button\",\n      className: \"flex-wrap\"\n    }, n));\n  },\n  H = function (e) {\n    var n,\n      a = t.useState(!1),\n      r = a[0],\n      o = a[1],\n      l = t.useState(),\n      i = l[0],\n      c = l[1],\n      s = t.useRef(null),\n      d = e.resolve,\n      u = J(e),\n      m = u.description,\n      f = u.note,\n      p = u.placeholder,\n      g = u.extensions,\n      v = u.selectButton,\n      h = u.continueButton;\n    return t.createElement(t.Fragment, null, t.createElement(\"div\", {\n      id: \"select-panel\"\n    }, t.createElement(\"div\", {\n      className: \"flex-wrap text-bodylarge font-body text-grey1 text-left\"\n    }, m), t.createElement(\"div\", {\n      className: \"mt-8\"\n    }), t.createElement(\"div\", {\n      className: \"p-6 border-grey4 border-2 rounded\"\n    }, t.createElement(\"input\", {\n      ref: s,\n      id: \"input\",\n      type: \"file\",\n      className: \"hidden\",\n      accept: g,\n      onChange: function (e) {\n        var t = e.target.files;\n        null != t && t.length > 0 ? c(t[0]) : console.log(\"[FileInput] Error selecting file: \" + JSON.stringify(t));\n      }\n    }), t.createElement(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-2 sm:gap-4 sm:items-center\"\n    }, t.createElement(k, {\n      text: null !== (n = null == i ? void 0 : i.name) && void 0 !== n ? n : p,\n      margin: \"\",\n      color: void 0 === i ? \"text-grey2\" : \"textgrey1\"\n    }), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(\"div\", {\n      className: \"flex-wrap\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row\"\n    }, t.createElement(B, {\n      onClick: function () {\n        var e;\n        null === (e = s.current) || void 0 === e || e.click();\n      },\n      label: v,\n      color: \"bg-tertiary text-grey1\"\n    }))))), t.createElement(\"div\", {\n      className: \"mt-4\"\n    }), t.createElement(\"div\", {\n      className: \"\".concat(void 0 === i ? \"opacity-30\" : \"opacity-100\")\n    }, t.createElement(C, {\n      text: f,\n      margin: \"\"\n    }), t.createElement(\"div\", {\n      className: \"mt-8\"\n    }), t.createElement(\"div\", {\n      className: \"flex flex-row gap-4\"\n    }, t.createElement(B, {\n      label: h,\n      onClick: function () {\n        void 0 === i || r || (o(!0), null == d || d({\n          __type__: \"PayloadFile\",\n          value: i\n        }));\n      },\n      enabled: void 0 !== i,\n      spinning: r\n    })))));\n  };\nfunction J(e) {\n  var t = e.description,\n    n = e.extensions,\n    a = e.locale;\n  return {\n    description: b.translate(t, a),\n    note: b.translate(G(), a),\n    placeholder: b.translate(K(), a),\n    extensions: n,\n    selectButton: b.translate(Z(), a),\n    continueButton: b.translate(W(), a)\n  };\n}\nvar W = function () {\n    return new w().add(\"en\", \"Continue\").add(\"de\", \"Weiter\").add(\"it\", \"Continua\").add(\"nl\", \"Verder\");\n  },\n  Z = function () {\n    return new w().add(\"en\", \"Choose file\").add(\"de\", \"Datei auswählen\").add(\"it\", \"Scegli file\").add(\"nl\", \"Kies bestand\");\n  },\n  G = function () {\n    return new w().add(\"en\", \"Note: The process to extract the correct data from the file is done on your own device. No data is stored or sent yet.\").add(\"de\", \"Hinweis: Der Prozess zur Extraktion der richtigen Daten aus der Datei erfolgt auf Ihrem eigenen Gerät. Es werden noch keine Daten gespeichert oder gesendet.\").add(\"it\", \"Nota: Il processo per estrarre i dati corretti dal file viene eseguito sul Suo dispositivo. Nessun dato viene ancora memorizzato o inviato.\").add(\"nl\", \"Let op: Het proces om de juiste gegevens uit het bestand te halen wordt uitgevoerd op uw eigen apparaat. Er worden nog geen gegevens opgeslagen of verzonden.\");\n  },\n  K = function () {\n    return new w().add(\"en\", \"E.g. data.zip\").add(\"de\", \"Z.B. data.zip\").add(\"it\", \"Esempio: data.zip\").add(\"nl\", \"Voorbeeld: data.zip\");\n  },\n  Q = function (e) {\n    var n = e.percentage;\n    return t.createElement(\"div\", {\n      id: \"progress\",\n      className: \"relative w-full overflow-hidden rounded-full\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row items-center gap-4\"\n    }, t.createElement(\"div\", {\n      className: \"flex-grow h-4 bg-primarylight\"\n    })), t.createElement(\"div\", {\n      className: \"absolute top-0 h-4 bg-primary\",\n      style: {\n        width: \"\".concat(n, \"%\")\n      }\n    }));\n  },\n  q = function (e) {\n    var n = e.resolve,\n      a = e.percentage,\n      r = function (e) {\n        var t = e.description,\n          n = e.message,\n          a = e.locale;\n        return {\n          description: b.translate(t, a),\n          message: n\n        };\n      }(e),\n      o = r.description,\n      l = r.message;\n    return null == n || n({\n      __type__: \"PayloadTrue\",\n      value: !0\n    }), t.createElement(t.Fragment, null, t.createElement(\"div\", {\n      className: \"flex flex-col gap-8\"\n    }, t.createElement(\"div\", {\n      className: \"text-bodylarge font-body text-grey1 text-left\"\n    }, o), t.createElement(\"div\", {\n      className: \"p-6 border-grey4 border-2 rounded flex flex-col gap-4\"\n    }, void 0 !== a && t.createElement(Q, {\n      percentage: a\n    }), t.createElement(\"div\", {\n      className: \"flex-wrap text-bodylarge font-body text-grey2 text-left truncate\"\n    }, l))));\n  };\nvar Y = function (e) {\n  var n = e.resolve,\n    a = function (e) {\n      var t = e.text,\n        n = e.ok,\n        a = e.cancel,\n        r = e.locale;\n      return {\n        text: b.translate(t, r),\n        ok: b.translate(n, r),\n        cancel: b.translate(a, r)\n      };\n    }(e),\n    r = a.text,\n    o = a.ok,\n    l = a.cancel;\n  return t.createElement(t.Fragment, null, t.createElement(k, {\n    text: r,\n    margin: \"mb-4\"\n  }), t.createElement(\"div\", {\n    className: \"flex flex-row gap-4\"\n  }, t.createElement(B, {\n    label: o,\n    onClick: function () {\n      null == n || n({\n        __type__: \"PayloadTrue\",\n        value: !0\n      });\n    },\n    color: \"text-grey1 bg-tertiary\"\n  }), t.createElement(B, {\n    label: l,\n    onClick: function () {\n      null == n || n({\n        __type__: \"PayloadFalse\",\n        value: !1\n      });\n    },\n    color: \"text-white bg-primary\"\n  })));\n};\nvar X = function (e) {\n  var n = e.id,\n    a = e.value,\n    r = e.selected,\n    o = e.onSelect;\n  return t.createElement(\"div\", {\n    id: \"\".concat(n),\n    \"data-testid\": \"radio-\".concat(n),\n    className: \"radio-item flex flex-row gap-3 items-center cursor-pointer\",\n    onClick: o,\n    role: \"checkbox\",\n    \"aria-checked\": r ? \"true\" : \"false\"\n  }, t.createElement(\"div\", null, t.createElement(\"img\", {\n    src: \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2211%22%20stroke%3D%22%23CCCCCC%22%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E\",\n    id: \"\".concat(n, \"-off\"),\n    className: r ? \"hidden\" : \"\"\n  }), t.createElement(\"img\", {\n    src: \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2211%22%20stroke%3D%22%234272EF%22%20stroke-width%3D%222%22%2F%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%226%22%20fill%3D%22%234272EF%22%2F%3E%3C%2Fsvg%3E\",\n    id: \"\".concat(n, \"-on\"),\n    className: r ? \"\" : \"hidden\"\n  })), t.createElement(\"div\", {\n    className: \"text-grey1 text-label font-label select-none mt-1\"\n  }, a));\n};\nvar $ = function (t) {\n    var n = e.useState(-1),\n      a = n[0],\n      r = n[1],\n      o = e.useState(!1),\n      l = o[0],\n      i = o[1],\n      c = e.useState(!1),\n      s = c[0],\n      d = c[1],\n      u = t.items,\n      m = t.resolve,\n      f = function (e) {\n        var t = e.title,\n          n = e.description,\n          a = e.locale;\n        return {\n          title: b.translate(t, a),\n          description: b.translate(n, a),\n          continueButton: b.translate(ee(), a)\n        };\n      }(t),\n      p = f.title,\n      g = f.description,\n      v = f.continueButton;\n    return e.createElement(e.Fragment, null, e.createElement(\"div\", {\n      className: \"text-title5 font-title5 sm:text-title4 sm:font-title4 lg:text-title3 lg:font-title3 text-grey1\"\n    }, p), e.createElement(\"div\", {\n      className: \"mt-8\"\n    }), e.createElement(\"div\", {\n      id: \"select-panel\"\n    }, e.createElement(\"div\", {\n      className: \"flex-wrap text-bodylarge font-body text-grey1 text-left\"\n    }, g), e.createElement(\"div\", {\n      className: \"mt-4\"\n    }), e.createElement(\"div\", null, e.createElement(\"div\", {\n      id: \"radio-group\",\n      className: \"flex flex-col gap-3\"\n    }, function (t) {\n      return t.map(function (t, n) {\n        return e.createElement(X, {\n          key: n,\n          onSelect: function () {\n            return r(n), void d(!0);\n          },\n          id: n,\n          value: t.value,\n          selected: a === n\n        });\n      });\n    }(u)))), e.createElement(\"div\", {\n      className: \"mt-8\"\n    }), e.createElement(\"div\", {\n      className: \"flex flex-row gap-4 \".concat(s ? \"\" : \"opacity-30\")\n    }, e.createElement(B, {\n      label: v,\n      onClick: function () {\n        if (!l) {\n          i(!0);\n          var e = u.at(a);\n          void 0 !== e && (null == m || m({\n            __type__: \"PayloadString\",\n            value: e.value\n          }));\n        }\n      },\n      enabled: s,\n      spinning: l\n    })));\n  },\n  ee = function () {\n    return new w().add(\"en\", \"Continue\").add(\"nl\", \"Doorgaan\");\n  },\n  te = function (e) {\n    var n = e.id,\n      a = e.selected,\n      r = e.onSelect;\n    return t.createElement(\"div\", {\n      id: n,\n      className: \"radio-item flex flex-row gap-3 items-center cursor-pointer\",\n      onClick: r,\n      role: \"checkbox\",\n      \"aria-checked\": a ? \"true\" : \"false\"\n    }, t.createElement(\"div\", {\n      className: \"flex-shrink-0\"\n    }, t.createElement(\"img\", {\n      src: \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20x%3D%221%22%20y%3D%221%22%20width%3D%2222%22%20height%3D%2222%22%20rx%3D%223%22%20stroke%3D%22%23CCCCCC%22%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E\",\n      id: \"\".concat(n, \"-off\"),\n      className: a ? \"hidden\" : \"\"\n    }), t.createElement(\"img\", {\n      src: \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%204C0%201.79086%201.79086%200%204%200H20C22.2091%200%2024%201.79086%2024%204V20C24%2022.2091%2022.2091%2024%2020%2024H4C1.79086%2024%200%2022.2091%200%2020V4Z%22%20fill%3D%22%234272EF%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M9.59985%2018L3.59985%2012.2308L5.27985%2010.6154L9.59985%2014.7692L18.7199%206L20.3999%207.61538L9.59985%2018Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E\",\n      id: \"\".concat(n, \"-on\"),\n      className: a ? \"\" : \"hidden\"\n    })));\n  },\n  ne = function (e) {\n    var a = e.placeholder;\n    e.debounce;\n    var r = e.onSearch;\n    function o(e) {\n      var t = e.target.value.split(/\\s+/);\n      r(t);\n    }\n    var l = n(function () {\n      return d.debounce(o, 300);\n    }, []);\n    return t.createElement(\"form\", null, t.createElement(\"div\", {\n      className: \"flex flex-row\"\n    }, t.createElement(\"input\", {\n      className: \"text-grey1 text-bodymedium font-body pl-3 pr-3 w-full border-2 border-solid border-grey3 focus:outline-none focus:border-primary rounded h-48px\",\n      placeholder: a,\n      name: \"query\",\n      type: \"search\",\n      onChange: l,\n      onKeyPress: function (e) {\n        \"Enter\" === e.key && e.preventDefault();\n      }\n    })));\n  },\n  ae = \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4%2021H14.087C17.7826%2021%2021%2018.375%2021%2014C21%209.625%2017.7826%207%2014.087%207H7.69565%22%20stroke%3D%22%234272EF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%2F%3E%3Cpath%20d%3D%22M10%203L6%207L10%2011%22%20stroke%3D%22%234272EF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E\",\n  re = \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M5.5%207L6.5%2021H17.5L18.5%207%22%20stroke%3D%22%23DB1E1E%22%20stroke-width%3D%222%22%2F%3E%3Cmask%20id%3D%22path-2-inside-1_1050_57%22%20fill%3D%22white%22%3E%3Crect%20x%3D%222%22%20y%3D%223%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%2F%3E%3C%2Fmask%3E%3Crect%20x%3D%222%22%20y%3D%223%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20stroke%3D%22%23DB1E1E%22%20stroke-width%3D%224%22%20mask%3D%22url%28%23path-2-inside-1_1050_57%29%22%2F%3E%3Cmask%20id%3D%22path-3-inside-2_1050_57%22%20fill%3D%22white%22%3E%3Cpath%20d%3D%22M9%202C9%201.44772%209.44772%201%2010%201H14C14.5523%201%2015%201.44772%2015%202V4H9V2Z%22%2F%3E%3C%2Fmask%3E%3Cpath%20d%3D%22M9%202C9%201.44772%209.44772%201%2010%201H14C14.5523%201%2015%201.44772%2015%202V4H9V2Z%22%20stroke%3D%22%23DB1E1E%22%20stroke-width%3D%223%22%20stroke-linejoin%3D%22round%22%20mask%3D%22url%28%23path-3-inside-2_1050_57%29%22%2F%3E%3C%2Fsvg%3E\",\n  oe = function (e) {\n    var n = e.index,\n      a = e.selected,\n      r = e.onClick;\n    return t.createElement(\"div\", {\n      className: \"rounded \".concat(n > 999 ? \"w-10\" : n > 99 ? \"w-9\" : \"w-8\", \" h-8 cursor-pointer flex-shrink-0 overflow-hidden \").concat(a ? \"bg-primary\" : \"bg-grey5 \"),\n      onClick: r\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row items-center justify-center w-full h-full\"\n    }, t.createElement(\"div\", {\n      className: \"text-label font-label \".concat(a ? \"text-white\" : \"text-grey2\")\n    }, \"\".concat(n))));\n  },\n  le = function (e) {\n    var n = e.pageCount,\n      a = e.page,\n      r = e.pageWindowLegSize,\n      o = e.onChange,\n      l = function (e, t) {\n        var n = 2 * r + 1,\n          a = [];\n        if (n >= e && e > 0) a = d.range(0, Math.min(e, n));else if (n < e) {\n          var o = e - 1,\n            l = void 0,\n            i = void 0;\n          t < r ? (l = 0, i = Math.min(e, n)) : o - t <= r ? (l = o - (n - 1), i = o + 1) : (l = t - r, i = t + r + 1), a = d.range(l, i);\n        }\n        return a;\n      }(n, a);\n    function i(e) {\n      return t.createElement(oe, {\n        key: \"page-\".concat(e),\n        index: e + 1,\n        selected: a === e,\n        onClick: function () {\n          return function (e) {\n            o(e);\n          }(e);\n        }\n      });\n    }\n    return t.createElement(\"div\", {\n      className: \"flex flex-row items-center gap-2 mt-2\"\n    }, t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(U, {\n      onClick: function () {\n        o(0 === a ? n - 1 : a - 1);\n      }\n    }), t.createElement(\"div\", null, t.createElement(\"div\", {\n      className: \"flex flex-row gap-2\"\n    }, l.map(function (e) {\n      return i(e);\n    }))), t.createElement(T, {\n      onClick: function () {\n        o(a === n - 1 ? 0 : a + 1);\n      }\n    }), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }));\n  },\n  ie = function (e) {\n    var n,\n      a,\n      r = e.head,\n      o = e.rows,\n      l = e.id,\n      i = e.edit,\n      c = e.selected,\n      s = e.locale,\n      d = e.onChange,\n      u = function (e) {\n        return {\n          link: b.translate(ce, e)\n        };\n      }(s);\n    return t.createElement(\"table\", {\n      \"data-testid\": \"table-\".concat(l),\n      className: \"text-grey1 table-fixed divide-y divide-grey4\"\n    }, t.createElement(\"thead\", null, (n = r, t.createElement(\"tr\", null, i ? (a = c.length > 0 && c.length === o.length, t.createElement(\"td\", {\n      key: \"check-head\",\n      className: \"pl-4 w-10\"\n    }, t.createElement(te, {\n      id: \"-1\",\n      selected: a,\n      onSelect: function () {\n        var e;\n        c.length === o.length ? d([]) : (e = o.map(function (e) {\n          return e.id;\n        }), d(e));\n      }\n    }))) : \"\", n.cells.map(function (e, n) {\n      return function (e, n) {\n        return t.createElement(\"th\", {\n          key: \"\".concat(n),\n          className: \"h-12 px-4 text-left\"\n        }, t.createElement(\"div\", {\n          className: \"font-table-header text-table text-grey1\"\n        }, e.text));\n      }(e, n);\n    })))), t.createElement(\"tbody\", {\n      className: \"divide-y divide-grey4\"\n    }, o.map(function (e, n) {\n      return function (e, n) {\n        return t.createElement(\"tr\", {\n          key: \"\".concat(n),\n          className: \"hover:bg-grey6\"\n        }, i ? (a = e.id, r = c.includes(a), t.createElement(\"td\", {\n          key: \"check-\".concat(a),\n          className: \"pl-4\"\n        }, t.createElement(te, {\n          id: a,\n          selected: r,\n          onSelect: function () {\n            return function (e) {\n              var t = c.slice(0),\n                n = t.indexOf(e);\n              -1 === n ? t.push(e) : t.splice(n, 1), d(t);\n            }(a);\n          }\n        }))) : \"\", e.cells.map(function (e, n) {\n          return function (e, n) {\n            var a,\n              r = e.text,\n              o = function (e) {\n                var t;\n                try {\n                  t = new URL(e);\n                } catch (e) {\n                  return !1;\n                }\n                return \"http:\" === t.protocol || \"https:\" === t.protocol;\n              }(r) ? (a = r, t.createElement(\"div\", {\n                className: \"font-table-row text-table text-primary underline\"\n              }, t.createElement(\"a\", {\n                href: a,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                title: a\n              }, u.link))) : function (e) {\n                return t.createElement(\"div\", {\n                  className: \"font-table-row text-table text-grey1\"\n                }, e);\n              }(r);\n            return t.createElement(\"td\", {\n              key: \"\".concat(n),\n              className: \"h-12 px-4\"\n            }, o);\n          }(e, n);\n        }));\n        var a, r;\n      }(e, n);\n    })));\n  },\n  ce = new w().add(\"en\", \"Visit URL\").add(\"de\", \"URL besuchen\").add(\"it\", \"Visita URL\").add(\"nl\", \"Bezoek URL\"),\n  se = function (e) {\n    var n,\n      a = e.title,\n      r = e.description,\n      o = function (e) {\n        return {\n          link: b.translate(de, e)\n        };\n      }(e.locale),\n      l = function (e) {\n        var t;\n        try {\n          t = new URL(e);\n        } catch (e) {\n          return !1;\n        }\n        return \"http:\" === t.protocol || \"https:\" === t.protocol;\n      }(r.text) ? (n = r.text, t.createElement(\"div\", {\n        className: \"font-table-row text-table text-primary underline\"\n      }, t.createElement(\"a\", {\n        href: n,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        title: n\n      }, o.link))) : function (e) {\n        return t.createElement(\"div\", {\n          className: \"font-table-row text-table text-grey1\"\n        }, e);\n      }(r.text);\n    return t.createElement(\"div\", {\n      className: \"w-full flex flex-col items-left gap-2\"\n    }, t.createElement(\"div\", {\n      className: \"font-card text-left text-card-key\"\n    }, a.text), t.createElement(\"div\", {\n      className: \"font-card text-left text-card-value\"\n    }, l));\n  },\n  de = new w().add(\"en\", \"Visit URL\").add(\"de\", \"URL besuchen\").add(\"it\", \"Visita URL\").add(\"nl\", \"Bezoek URL\"),\n  ue = function (e) {\n    var n = e.row,\n      a = e.headCells,\n      r = e.locale,\n      o = e.onDelete,\n      l = a.map(function (e, t) {\n        return [e, n.cells[t]];\n      });\n    return t.createElement(\"div\", {\n      className: \"flex flex-row w-full p-4 border border-grey4 bg-white rounded-lg shadow-[0px_5px_20px_0px_rgba(0,0,0,0.10)] \"\n    }, t.createElement(\"div\", {\n      className: \"w-full flex flex-col items-left gap-4\"\n    }, l.map(function (e, n) {\n      var a = e[0],\n        o = e[1];\n      return t.createElement(se, {\n        title: a,\n        description: o,\n        locale: r,\n        key: \"\".concat(n)\n      });\n    })), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(\"div\", {\n      className: \"flex-shrink-0\"\n    }, t.createElement(M, {\n      icon: re,\n      onClick: function () {\n        return o(n.id);\n      }\n    })));\n  },\n  me = function (e) {\n    var n = e.head,\n      a = e.rows,\n      r = e.locale,\n      o = e.onDelete;\n    return t.createElement(\"div\", {\n      className: \"flex flex-col gap-4 px-4\"\n    }, a.map(function (e, a) {\n      return t.createElement(ue, {\n        row: e,\n        headCells: n.cells,\n        locale: r,\n        onDelete: o,\n        key: \"\".concat(a)\n      });\n    }));\n  },\n  fe = function (e) {\n    var n = e.id,\n      a = e.head,\n      r = e.body;\n    e.readOnly;\n    var o = e.locale,\n      l = e.onChange,\n      i = t.useRef([]),\n      c = t.useRef(r.rows),\n      s = t.useRef(c.current),\n      d = {\n        edit: !1,\n        desktopPage: 0,\n        desktopPageCount: h(7),\n        desktopRows: x(0, 7),\n        mobilePage: 0,\n        mobilePageCount: h(1),\n        mobileRows: x(0, 1),\n        selected: [],\n        deletedCount: 0,\n        visibility: {\n          delete: !1,\n          undo: !1,\n          table: s.current.length > 0,\n          noData: 0 === s.current.length,\n          noDataLeft: !1,\n          noResults: !1\n        }\n      },\n      m = t.useState(d),\n      f = m[0],\n      p = m[1],\n      g = function (e) {\n        return {\n          edit: b.translate(xe, e),\n          undo: b.translate(Ee, e),\n          noData: b.translate(ge, e),\n          noDataLeft: b.translate(ve, e),\n          noResults: b.translate(he, e),\n          desktopPages: b.translate(be(f.desktopPageCount), e),\n          mobilePages: b.translate(be(f.mobilePageCount), e),\n          delete: b.translate(ye, e),\n          deleted: b.translate(we(r.rows.length - c.current.length), e),\n          searchPlaceholder: b.translate(pe, e)\n        };\n      }(o);\n    function v(e) {\n      return function (e) {\n        if (\"boolean\" == typeof f.visibility[e]) return f.visibility[e];\n        return !1;\n      }(e) ? \"\" : \"hidden\";\n    }\n    function h(e) {\n      return 0 === s.current.length ? 0 : Math.ceil(s.current.length / e);\n    }\n    function x(e, t) {\n      var n = e * t;\n      return s.current.slice(n, n + t);\n    }\n    function E() {\n      return 0 === i.current.length ? c.current : c.current.filter(function (e) {\n        return function (e, t) {\n          var n = e.cells.map(function (e) {\n            return e.text;\n          }).join(\" \");\n          return void 0 === t.find(function (e) {\n            return !n.includes(e);\n          });\n        }(e, i.current);\n      });\n    }\n    function y(e) {\n      for (var t = c.current.slice(0), n = function (e) {\n          var n = t.findIndex(function (t) {\n            return t.id === e;\n          });\n          -1 !== n && t.splice(n, 1);\n        }, a = 0, o = e; a < o.length; a++) {\n        n(o[a]);\n      }\n      c.current = t, s.current = E(), p(function (e) {\n        var t = h(7),\n          n = Math.max(0, Math.min(t - 1, e.desktopPage)),\n          a = x(n, 7),\n          o = h(1),\n          l = Math.max(0, Math.min(o - 1, e.mobilePage)),\n          i = x(l, 1),\n          d = r.rows.length - c.current.length,\n          m = u(u({}, e.visibility), {\n            undo: d > 0,\n            table: s.current.length > 0,\n            noData: !1,\n            noDataLeft: 0 === c.current.length,\n            noResults: c.current.length > 0 && 0 === s.current.length\n          });\n        return u(u({}, e), {\n          desktopPage: n,\n          desktopPageCount: t,\n          desktopRows: a,\n          mobilePage: l,\n          mobilePageCount: o,\n          mobileRows: i,\n          deletedCount: d,\n          selected: [],\n          visibility: m\n        });\n      }), l(c.current, f.deletedCount);\n    }\n    function w() {\n      c.current = r.rows, s.current = E(), p(function (e) {\n        var t = h(7),\n          n = Math.min(t, e.desktopPage),\n          a = x(n, 7),\n          r = h(1),\n          o = Math.min(r, e.mobilePage),\n          l = x(o, 1),\n          i = u(u({}, e.visibility), {\n            undo: !1,\n            table: s.current.length > 0,\n            noData: !1,\n            noDataLeft: !1,\n            noResults: 0 === s.current.length\n          });\n        return u(u({}, e), {\n          desktopPage: n,\n          desktopPageCount: t,\n          desktopRows: a,\n          mobilePage: o,\n          mobilePageCount: r,\n          mobileRows: l,\n          deletedCount: 0,\n          selected: [],\n          visibility: i\n        });\n      }), l(r.rows, 0);\n    }\n    function k(e) {\n      i.current = e, s.current = E(), p(function (e) {\n        var t = h(7),\n          n = Math.min(t, e.desktopPage),\n          a = x(n, 7),\n          o = h(1),\n          l = Math.min(o, e.mobilePage),\n          i = x(l, 1),\n          d = u(u({}, e.visibility), {\n            table: s.current.length > 0,\n            noData: 0 === r.rows.length,\n            noDataLeft: r.rows.length > 0 && 0 === c.current.length,\n            noResults: r.rows.length > 0 && c.current.length > 0 && 0 === s.current.length\n          });\n        return u(u({}, e), {\n          desktopPage: n,\n          desktopPageCount: t,\n          desktopRows: a,\n          mobilePage: l,\n          mobilePageCount: o,\n          mobileRows: i,\n          visibility: d\n        });\n      });\n    }\n    return t.createElement(t.Fragment, null, t.createElement(\"div\", {\n      className: \"flex flex-col gap-4\"\n    }, t.createElement(\"div\", {\n      className: \"hidden sm:block\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row gap-4 items-center\"\n    }, t.createElement(\"div\", {\n      className: \"\".concat(r.rows.length <= 7 ? \"hidden\" : \"\", \" \")\n    }, t.createElement(le, {\n      pageCount: f.desktopPageCount,\n      page: f.desktopPage,\n      pageWindowLegSize: 3,\n      onChange: function (e) {\n        p(function (t) {\n          var n = x(e, 7);\n          return u(u({}, t), {\n            desktopPage: e,\n            desktopRows: n\n          });\n        });\n      }\n    })), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(S, {\n      text: g.desktopPages,\n      color: \"text-grey2\",\n      margin: \"\"\n    }), t.createElement(\"div\", null, t.createElement(ne, {\n      placeholder: g.searchPlaceholder,\n      onSearch: function (e) {\n        return k(e);\n      }\n    })))), t.createElement(\"div\", {\n      className: \"block sm:hidden\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row gap-4\"\n    }, t.createElement(\"div\", {\n      className: \"w-full\"\n    }, t.createElement(ne, {\n      placeholder: g.searchPlaceholder,\n      onSearch: function (e) {\n        return k(e);\n      }\n    })))), f.desktopRows.length > 0 && t.createElement(\"div\", {\n      className: \"hidden sm:block\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-col \".concat(v(\"table\"))\n    }, t.createElement(ie, {\n      head: a,\n      rows: f.desktopRows,\n      id: n,\n      edit: f.edit,\n      selected: f.selected,\n      locale: o,\n      onChange: function (e) {\n        p(function (t) {\n          return u(u({}, t), {\n            selected: e\n          });\n        });\n      }\n    }))), f.mobileRows.length > 0 && t.createElement(\"div\", {\n      className: \"block sm:hidden\"\n    }, t.createElement(me, {\n      head: a,\n      rows: f.mobileRows,\n      locale: o,\n      onDelete: function (e) {\n        y([e]);\n      },\n      key: n\n    })), t.createElement(\"div\", {\n      className: \"flex flex-col justify-center items-center w-full h-[200px] sm:h-table bg-grey6 \".concat(v(\"noData\"))\n    }, t.createElement(_, {\n      text: g.noData,\n      color: \"text-grey3\",\n      margin: \"\"\n    })), t.createElement(\"div\", {\n      className: \"flex flex-col justify-center items-center w-full h-[200px] sm:h-table bg-grey6 \".concat(v(\"noDataLeft\"))\n    }, t.createElement(_, {\n      text: g.noDataLeft,\n      color: \"text-grey3\",\n      margin: \"\"\n    })), t.createElement(\"div\", {\n      className: \"flex flex-col justify-center items-center w-full h-[200px] sm:h-table bg-grey6 \".concat(v(\"noResults\"))\n    }, t.createElement(_, {\n      text: g.noResults,\n      color: \"text-grey3\",\n      margin: \"\"\n    })), t.createElement(\"div\", {\n      className: \"hidden sm:block\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row items-center gap-6 mt-2 h-8 \".concat(0 === r.rows.length ? \"hidden\" : \"\", \" \")\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row gap-4 items-center\"\n    }, t.createElement(te, {\n      id: \"edit\",\n      selected: f.edit,\n      onSelect: function () {\n        p(function (e) {\n          var t = !e.edit,\n            n = u(u({}, e.visibility), {\n              delete: t\n            });\n          return u(u({}, e), {\n            edit: t,\n            visibility: n\n          });\n        });\n      }\n    }), t.createElement(F, {\n      text: g.edit,\n      margin: \"mt-1px\"\n    })), t.createElement(\"div\", {\n      className: \"\".concat(v(\"delete\"), \" mt-1px\")\n    }, t.createElement(A, {\n      label: g.delete,\n      color: \"text-delete\",\n      icon: re,\n      onClick: function () {\n        var e = f.selected.slice(0);\n        0 !== e.length && y(e);\n      }\n    })), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(F, {\n      text: g.deleted\n    }), t.createElement(\"div\", {\n      className: \"\".concat(v(\"undo\"))\n    }, t.createElement(A, {\n      label: g.undo,\n      color: \"text-primary\",\n      icon: ae,\n      onClick: w\n    })))), t.createElement(\"div\", {\n      className: \"block sm:hidden\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-col gap-4\"\n    }, f.deletedCount > 0 && t.createElement(\"div\", {\n      className: \"flex flex-row gap-4 items-center\"\n    }, t.createElement(F, {\n      text: g.deleted\n    }), t.createElement(\"div\", {\n      className: \"flex-grow\"\n    }), t.createElement(\"div\", {\n      className: \"\".concat(v(\"undo\"))\n    }, t.createElement(A, {\n      label: g.undo,\n      color: \"text-primary\",\n      icon: ae,\n      onClick: w\n    }))), t.createElement(\"div\", {\n      className: \"flex flex-col gap-4 items-center\"\n    }, t.createElement(\"div\", {\n      className: \"\".concat(r.rows.length <= 1 ? \"hidden\" : \"\", \" \")\n    }, t.createElement(le, {\n      pageCount: f.mobilePageCount,\n      page: f.mobilePage,\n      pageWindowLegSize: 2,\n      onChange: function (e) {\n        p(function (t) {\n          var n = x(e, 1);\n          return u(u({}, t), {\n            mobilePage: e,\n            mobileRows: n\n          });\n        });\n      }\n    })), t.createElement(S, {\n      text: g.mobilePages,\n      color: \"text-grey2\",\n      margin: \"\"\n    }))))));\n  },\n  pe = new w().add(\"en\", \"Search\").add(\"de\", \"Suchen\").add(\"it\", \"Cerca\").add(\"nl\", \"Zoeken\"),\n  ge = new w().add(\"en\", \"No data found\").add(\"de\", \"Keine Daten gefunden\").add(\"it\", \"Nessun dato trovato\").add(\"nl\", \"Geen gegevens gevonden\"),\n  ve = new w().add(\"en\", \"All data removed\").add(\"de\", \"Alle Daten gelöscht\").add(\"it\", \"Tutti i dati rimossi\").add(\"nl\", \"Alle gegevens verwijderd\"),\n  he = new w().add(\"en\", \"No search results\").add(\"de\", \"Keine Suchergebnisse\").add(\"it\", \"Nessun risultato di ricerca\").add(\"nl\", \"Geen zoek resultaten\"),\n  xe = new w().add(\"en\", \"Adjust\").add(\"de\", \"Anpassen\").add(\"it\", \"Regola\").add(\"nl\", \"Aanpassen\"),\n  Ee = new w().add(\"en\", \"Undo\").add(\"de\", \"Rückgängig machen\").add(\"it\", \"Annulla\").add(\"nl\", \"Ongedaan maken\"),\n  ye = new w().add(\"en\", \"Delete selected\").add(\"de\", \"Auswahl löschen\").add(\"it\", \"Elimina selezione\").add(\"nl\", \"Verwijder selectie\");\nfunction we(e) {\n  return 0 === e ? new w().add(\"en\", \"No adjustments\").add(\"de\", \"Keine Anpassungen\").add(\"it\", \"Nessuna modifica\").add(\"nl\", \"Geen aanpassingen\") : 1 === e ? function (e) {\n    return new w().add(\"en\", \"\".concat(e, \" row deleted\")).add(\"de\", \"\".concat(e, \" Zeile gelöscht\")).add(\"it\", \"\".concat(e, \" Riga eliminata\")).add(\"nl\", \"\".concat(e, \" rij verwijderd\"));\n  }(e) : function (e) {\n    return new w().add(\"en\", \"\".concat(e, \" rows deleted\")).add(\"de\", \"\".concat(e, \" Zeilen gelöscht\")).add(\"it\", \"\".concat(e, \" Righe eliminate\")).add(\"nl\", \"\".concat(e, \" rijen verwijderd\"));\n  }(e);\n}\nfunction be(e) {\n  return 1 === e ? new w().add(\"en\", \"1 page\").add(\"de\", \"1 Seite\").add(\"it\", \"1 pagina\").add(\"nl\", \"1 pagina\") : function (e) {\n    return new w().add(\"en\", \"\".concat(e, \" pages\")).add(\"de\", \"\".concat(e, \" Seiten\")).add(\"it\", \"\".concat(e, \" pagine\")).add(\"nl\", \"\".concat(e, \" pagina's\"));\n  }(e);\n}\nvar ke = function (e) {\n    var n = e.number;\n    return t.createElement(\"div\", {\n      className: \"flex-shrink-0 icon w-6 h-6 font-caption text-caption text-white bg-primary rounded-full flex items-center \".concat(function (e) {\n        switch (e) {\n          case 1:\n          case 4:\n            return \"mr-1px\";\n          default:\n            return \"\";\n        }\n      }(n))\n    }, t.createElement(\"span\", {\n      className: \"text-center w-full mt-1px\"\n    }, n));\n  },\n  Ce = a(function (e, n) {\n    var a = e.table,\n      r = e.readOnly,\n      o = void 0 !== r && r,\n      l = e.context;\n    e.onChange;\n    var i = t.useState(a),\n      c = i[0];\n    i[1];\n    return t.useEffect(function () {\n      console.log(\"ConsentTable useEffect\", c), l.onDataSubmissionDataChanged(a.id, De(a.head, a.body.rows, 0));\n    }, []), t.createElement(\"div\", {\n      key: a.id,\n      className: \"flex flex-col gap-4 mb-20\"\n    }, t.createElement(\"div\", {\n      className: \"flex flex-row gap-4 items-center\"\n    }, t.createElement(ke, {\n      number: a.number\n    }), t.createElement(\"div\", {\n      className: \"pt-2px\"\n    }, t.createElement(P, {\n      text: a.title,\n      margin: \"\"\n    }))), t.createElement(fe, u({}, a, {\n      readOnly: o,\n      locale: l.locale,\n      onChange: function (e, t) {\n        l.onDataSubmissionDataChanged(a.id, De(a.head, e, t));\n      },\n      id: a.id,\n      key: a.id\n    })));\n  });\nfunction De(e, t, n) {\n  return {\n    data: Ne(e, t),\n    metadata: {\n      deletedRowCount: n\n    }\n  };\n}\nfunction Ne(e, t) {\n  return t.map(function (t) {\n    return function (e, t) {\n      var n = t.cells.map(function (e) {\n          return e.text;\n        }),\n        a = e.cells.map(function (e) {\n          return e.text;\n        });\n      return d.fromPairs(d.zip(n, a));\n    }(t, e);\n  });\n}\nCe.displayName = \"ConsentTable\";\nvar _e = function (e) {\n    var n = e.onDonate,\n      a = e.onCancel,\n      l = e.locale,\n      i = e.donateQuestion,\n      c = e.donateButton,\n      s = r(!1),\n      d = s[0],\n      u = s[1],\n      m = o(function () {\n        u(!0), n();\n      }, [n, u]);\n    return t.createElement(\"div\", null, t.createElement(k, {\n      margin: \"\",\n      text: b.translate(null != i ? i : Pe, l)\n    }), t.createElement(\"div\", {\n      className: \"flex flex-row gap-4 mt-4 mb-4\"\n    }, t.createElement(B, {\n      label: b.translate(null != c ? c : Fe, l),\n      onClick: m,\n      color: \"bg-success text-white\",\n      spinning: d\n    }), t.createElement(V, {\n      label: b.translate(Se, l),\n      onClick: a,\n      color: \"text-grey1\"\n    })));\n  },\n  Pe = new w().add(\"en\", \"Do you want to donate the above data?\").add(\"nl\", \"Wilt u de bovenstaande gegevens doneren?\"),\n  Fe = new w().add(\"en\", \"Yes, donate\").add(\"nl\", \"Ja, doneer\"),\n  Se = new w().add(\"en\", \"No\").add(\"nl\", \"Nee\"),\n  Re = function (t) {\n    var n = function (e) {\n        var t = e.text,\n          n = e.title,\n          a = e.locale;\n        return {\n          text: b.translate(t, a),\n          title: n ? b.translate(n, a) : void 0\n        };\n      }(t),\n      a = n.text,\n      r = n.title;\n    return e.createElement(e.Fragment, null, e.createElement(\"div\", {\n      className: \"my-8\"\n    }, r && e.createElement(e.Fragment, null, e.createElement(_, {\n      text: r,\n      margin: \"mb-4\"\n    })), e.createElement(k, {\n      text: a,\n      margin: \"\"\n    })));\n  };\nvar Le = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      return v(e, \"PropsUIPromptFileInput\", [\"description\", \"extensions\"]) ? t.createElement(H, u(u({}, e), n)) : null;\n    }, e;\n  }(),\n  ze = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      return v(e, \"PropsUIPromptProgress\", [\"description\", \"message\"]) ? t.createElement(q, u(u({}, e), n)) : null;\n    }, e;\n  }(),\n  Oe = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      return v(e, \"PropsUIPromptConfirm\", [\"text\", \"ok\", \"cancel\"]) ? t.createElement(Y, u(u({}, e), n)) : null;\n    }, e;\n  }(),\n  je = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      return v(e, \"PropsUIPromptRadioInput\", [\"title\", \"description\", \"items\"]) ? t.createElement($, u(u({}, e), n)) : null;\n    }, e;\n  }(),\n  Ie = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      if (v(e, \"PropsUIPromptConsentFormTable\", [\"id\", \"number\", \"title\", \"description\", \"data_frame\"])) {\n        var a = e.id,\n          r = e.number,\n          o = e.title,\n          l = e.description,\n          i = e.data_frame,\n          c = JSON.parse(i),\n          s = e.headers || {},\n          d = {\n            __type__: \"PropsUITable\",\n            id: a,\n            head: {\n              __type__: \"PropsUITableHead\",\n              cells: Object.keys(c).map(function (e) {\n                return {\n                  __type__: \"PropsUITableCell\",\n                  text: s[e] ? b.translate(s[e], n.locale) : e\n                };\n              })\n            },\n            body: {\n              __type__: \"PropsUITableBody\",\n              rows: Object.keys(c[Object.keys(c)[0]] || {}).map(function (e) {\n                return {\n                  __type__: \"PropsUITableRow\",\n                  id: e,\n                  cells: Object.keys(c).map(function (t) {\n                    return {\n                      __type__: \"PropsUITableCell\",\n                      text: String(c[t][e])\n                    };\n                  })\n                };\n              })\n            }\n          };\n        return t.createElement(Ce, {\n          table: u(u({}, d), {\n            number: r,\n            title: b.translate(o, n.locale),\n            description: l && b.translate(l, n.locale),\n            deletedRowCount: 0\n          }),\n          context: n,\n          onChange: function () {}\n        });\n      }\n      return null;\n    }, e;\n  }(),\n  Be = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      if (v(e, \"PropsUIDataSubmissionButtons\", [\"donateQuestion\", \"donateButton\"])) {\n        var a = e.donateQuestion,\n          r = e.donateButton,\n          o = function (e, t) {\n            var n = {};\n            for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && t.indexOf(a) < 0 && (n[a] = e[a]);\n            if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n              var r = 0;\n              for (a = Object.getOwnPropertySymbols(e); r < a.length; r++) t.indexOf(a[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, a[r]) && (n[a[r]] = e[a[r]]);\n            }\n            return n;\n          }(e, [\"donateQuestion\", \"donateButton\"]),\n          l = u(u(u({}, o), n), {\n            donateQuestion: a,\n            donateButton: r\n          });\n        return t.createElement(_e, l);\n      }\n      return null;\n    }, e;\n  }(),\n  Ue = function () {\n    function e() {}\n    return e.prototype.create = function (e, n) {\n      return v(e, \"PropsUIPromptText\", [\"text\"]) ? t.createElement(Re, u(u({}, e), n)) : null;\n    }, e;\n  }(),\n  Te = function (e) {\n    var n,\n      a = function (e) {\n        var t = e.header.title,\n          n = e.locale;\n        return {\n          title: b.translate(t, n)\n        };\n      }(e).title,\n      r = e.locale,\n      l = (void 0 === (n = e.promptFactories) && (n = []), p(p([], n, !0), [new Le(), new ze(), new Oe(), new je(), new Ie(), new Be(), new Ue()], !1)),\n      i = t.useRef(new Map()),\n      c = o(function (e, t) {\n        console.log(\"onDataSubmissionDataChanged\", e, t), i.current.set(e, t);\n      }, [i]);\n    function s() {\n      var t,\n        n = Object.fromEntries(i.current);\n      console.log(\"onDonate\", JSON.stringify(n)), null === (t = e.resolve) || void 0 === t || t.call(e, {\n        __type__: \"PayloadJSON\",\n        value: JSON.stringify(n)\n      });\n    }\n    var d = t.createElement(t.Fragment, null, t.createElement(D, {\n      text: a\n    }), function (e) {\n      var n = {\n        locale: r,\n        resolve: e.resolve,\n        onDataSubmissionDataChanged: c,\n        onDonate: s\n      };\n      return (Array.isArray(e.body) ? e.body : [e.body]).map(function (e, a) {\n        var r = function (e, t) {\n          for (var n = 0, a = l; n < a.length; n++) {\n            var r = a[n].create(e, t);\n            if (null !== r) return r;\n          }\n          return null;\n        }(e, n);\n        if (null === r) throw new TypeError(\"No factory found for body item at index \".concat(a));\n        return t.createElement(t.Fragment, {\n          key: a\n        }, r);\n      });\n    }(e));\n    return t.createElement(y, {\n      body: d\n    });\n  };\nvar Me = function () {\n    function e(e) {\n      var t = (void 0 === e ? {} : e).promptFactories,\n        n = void 0 === t ? [] : t;\n      this.promptFactories = n;\n    }\n    return e.prototype.createPage = function (e, n) {\n      return x(e) ? t.createElement(Te, u({}, e, n, {\n        promptFactories: this.promptFactories\n      })) : null;\n    }, e;\n  }(),\n  Ae = function () {\n    function e(e) {\n      void 0 === e && (e = []), this.factories = p(p([], e, !0), [new j(), new Me()], !1);\n    }\n    return e.prototype.createPage = function (e, t) {\n      for (var n = 0, a = this.factories; n < a.length; n++) {\n        var r = a[n].createPage(e, t);\n        if (null !== r) return r;\n      }\n      throw TypeError(\"Unknown page: \" + JSON.stringify(e));\n    }, e.prototype.registerFactory = function (e) {\n      this.factories.push(e);\n    }, e;\n  }();\nfunction Ve(e) {\n  return We(e) || function (e) {\n    return v(e, \"CommandSystemEvent\", [\"name\"]);\n  }(e) || He(e);\n}\nfunction He(e) {\n  return v(e, \"CommandSystemExit\", [\"code\", \"info\"]);\n}\nfunction Je(e) {\n  return function (e) {\n    return v(e, \"CommandUIRender\", [\"page\"]) && function (e) {\n      return x(e) || E(e);\n    }(e.page);\n  }(e);\n}\nfunction We(e) {\n  return v(e, \"CommandSystemDonate\", [\"key\", \"json_string\"]);\n}\nvar Ze = function () {\n    function e(e, t) {\n      this.bridge = e, this.visualizationEngine = t;\n    }\n    return e.prototype.onCommand = function (e) {\n      return m(this, void 0, void 0, function () {\n        var t = this;\n        return f(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, new Promise(function (n, a) {\n                Ve(e) ? t.onCommandSystem(e, n) : Je(e) ? t.onCommandUI(e, n) : a(new TypeError(\"[CommandRouter] Unknown command\" + JSON.stringify(e)));\n              })];\n            case 1:\n              return [2, n.sent()];\n          }\n        });\n      });\n    }, e.prototype.onCommandSystem = function (e, t) {\n      this.bridge.send(e), He(e) ? console.log(\"[CommandRouter] Application exit\") : t({\n        __type__: \"Response\",\n        command: e,\n        payload: {\n          __type__: \"PayloadVoid\",\n          value: void 0\n        }\n      });\n    }, e.prototype.onCommandUI = function (e, t) {\n      this.visualizationEngine.render(e).then(function (n) {\n        n && n.__type__ ? t(n) : (console.error(\"[CommandRouter] Invalid response:\", n), t({\n          __type__: \"Response\",\n          command: e,\n          payload: {\n            __type__: \"PayloadVoid\",\n            value: void 0\n          }\n        }));\n      }).catch(function (n) {\n        console.error(\"[CommandRouter] Error:\", n), t({\n          __type__: \"Response\",\n          command: e,\n          payload: {\n            __type__: \"PayloadVoid\",\n            value: void 0\n          }\n        });\n      });\n    }, e;\n  }(),\n  Ge = function () {\n    function e(e, t, n) {\n      var a = this;\n      this.sessionId = e, this.commandHandler = n, this.worker = t, this.worker.onerror = console.log, this.worker.onmessage = function (e) {\n        console.log(\"[WorkerProcessingEngine] Received event from worker: \", e.data.eventType), a.handleEvent(e);\n      };\n    }\n    return e.prototype.sendSystemEvent = function (e) {\n      var t = {\n        __type__: \"CommandSystemEvent\",\n        name: e\n      };\n      this.commandHandler.onCommand(t).then(function () {}, function () {});\n    }, e.prototype.handleEvent = function (e) {\n      var t = e.data.eventType;\n      switch (console.log(\"[ReactEngine] received eventType: \", t), t) {\n        case \"initialiseDone\":\n          console.log(\"[ReactEngine] received: initialiseDone\"), this.resolveInitialized();\n          break;\n        case \"runCycleDone\":\n          console.log(\"[ReactEngine] received: event\", e.data.scriptEvent), this.handleRunCycle(e.data.scriptEvent);\n          break;\n        default:\n          console.log(\"[ReactEngine] received unsupported flow event: \", t);\n      }\n    }, e.prototype.start = function () {\n      var e = this;\n      console.log(\"[WorkerProcessingEngine] started\"), this.waitForInitialization().then(function () {\n        e.sendSystemEvent(\"initialized\"), e.firstRunCycle();\n      }, function () {});\n    }, e.prototype.waitForInitialization = function () {\n      return m(this, void 0, void 0, function () {\n        var e = this;\n        return f(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return [4, new Promise(function (t) {\n                e.resolveInitialized = t, console.debug(\"[WorkerProcessingEngine] waiting for initialisation\"), e.worker.postMessage({\n                  eventType: \"initialise\"\n                });\n              })];\n            case 1:\n              return [2, t.sent()];\n          }\n        });\n      });\n    }, e.prototype.firstRunCycle = function () {\n      this.worker.postMessage({\n        eventType: \"firstRunCycle\",\n        sessionId: this.sessionId\n      });\n    }, e.prototype.nextRunCycle = function (e) {\n      console.log(\"[WorkerProcessingEngine] nextRunCycle\"), this.worker.postMessage({\n        eventType: \"nextRunCycle\",\n        response: e\n      });\n    }, e.prototype.terminate = function () {\n      this.worker.terminate();\n    }, e.prototype.handleRunCycle = function (e) {\n      var t,\n        n = this;\n      (Je(t = e) || Ve(t)) && this.commandHandler.onCommand(e).then(function (e) {\n        return n.nextRunCycle(e);\n      }, function () {});\n    }, e;\n  }(),\n  Ke = function (e, t, n) {\n    void 0 === n && (n = []);\n    var a = String(Date.now()),\n      r = new Ae(n);\n    this.visualizationEngine = new g(r), this.router = new Ze(t, this.visualizationEngine), this.processingEngine = new Ge(a, e, this.router);\n  },\n  Qe = function () {\n    function e(e) {\n      this.port = e;\n    }\n    return e.create = function (t, n) {\n      t.addEventListener(\"message\", function (t) {\n        if (console.log(\"MESSAGE RECEIVED\", t), \"live-init\" === t.data.action && !e.initialized) {\n          e.initialized = !0;\n          var a = new e(t.ports[0]),\n            r = t.data.locale;\n          console.log(\"LOCALE\", r), n(a, r);\n        }\n      });\n    }, e.prototype.send = function (e) {\n      Ve(e) ? (this.log(\"info\", \"send\", e), this.port.postMessage(e)) : this.log(\"error\", \"received unknown command\", e);\n    }, e.prototype.log = function (e) {\n      for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];\n      (\"info\" === e ? console.log : console.error).apply(void 0, p([\"[LiveBridge]\"], t, !1));\n    }, e.initialized = !1, e;\n  }(),\n  qe = function () {\n    function e() {}\n    return e.prototype.send = function (e) {\n      We(e) ? this.handleDataSubmission(e) : He(e) ? this.handleExit(e) : console.log(\"[FakeBridge] received unknown command: \" + JSON.stringify(e));\n    }, e.prototype.handleDataSubmission = function (e) {\n      return m(this, void 0, void 0, function () {\n        var t, n;\n        return f(this, function (a) {\n          switch (a.label) {\n            case 0:\n              console.log(\"[FakeBridge] received dataSubmission: \".concat(e.key, \"=\").concat(e.json_string)), a.label = 1;\n            case 1:\n              return a.trys.push([1, 3,, 4]), [4, fetch(\"/data-submission\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                  key: e.key,\n                  data: e.json_string\n                })\n              })];\n            case 2:\n              return (t = a.sent()).ok ? console.log(\"[FakeBridge] Data submission succeeded with status: \".concat(t.status)) : console.error(\"[FakeBridge] Data submission failed with status: \".concat(t.status)), [3, 4];\n            case 3:\n              return n = a.sent(), console.error(\"[FakeBridge] Error during data submission:\", n), [3, 4];\n            case 4:\n              return [2];\n          }\n        });\n      });\n    }, e.prototype.handleExit = function (e) {\n      console.log(\"[FakeBridge] received exit: \".concat(e.code, \"=\").concat(e.info));\n    }, e;\n  }(),\n  Ye = l(void 0),\n  Xe = function (e) {\n    var n = e.children,\n      a = r({\n        elements: []\n      }),\n      o = a[0],\n      l = a[1];\n    return t.createElement(Ye.Provider, {\n      value: {\n        state: o,\n        setState: l\n      }\n    }, n);\n  },\n  $e = function (e) {\n    var n = e.workerUrl,\n      a = e.locale,\n      r = void 0 === a ? \"nl\" : a,\n      o = e.standalone,\n      l = void 0 !== o && o,\n      d = e.className,\n      u = e.factories,\n      m = void 0 === u ? [] : u,\n      f = c(null),\n      p = c(null),\n      g = c(null),\n      v = function () {\n        var e = i(Ye);\n        if (!e) throw new Error(\"useVisualization must be used within a VisualizationProvider\");\n        return e;\n      }(),\n      h = v.setState,\n      x = v.state;\n    return s(function () {\n      if (f.current) {\n        var e = new Worker(n);\n        g.current = e;\n        var t = function (t, n) {\n          void 0 === n && (n = r);\n          var a = new Ke(e, t, m);\n          a.visualizationEngine.start(f.current, n, h), a.processingEngine.start(), p.current = a;\n        };\n        l || \"production\" !== process.env.NODE_ENV ? (console.log(\"Running with fake bridge\"), t(new qe())) : (console.log(\"Initializing bridge system\"), Qe.create(window, t));\n        var a = new ResizeObserver(function () {\n          var e = window.document.documentElement.getBoundingClientRect().height;\n          window.parent.postMessage({\n            action: \"resize\",\n            height: e\n          }, \"*\");\n        });\n        return a.observe(window.document.body), window.parent.postMessage({\n          action: \"app-loaded\"\n        }, \"*\"), function () {\n          a.disconnect(), setTimeout(function () {\n            var e, t;\n            null === (e = p.current) || void 0 === e || e.visualizationEngine.terminate(), null === (t = p.current) || void 0 === t || t.processingEngine.terminate(), g.current && (g.current.terminate(), g.current = null);\n          }, 0);\n        };\n      }\n    }, [n, r, l, h, m]), t.createElement(\"div\", {\n      ref: f,\n      className: d\n    }, x.elements);\n  },\n  et = function (e) {\n    return t.createElement(Xe, null, t.createElement($e, u({}, e)));\n  };\nexport { k as BodyLarge, C as BodySmall, Me as DataSubmissionPageFactory, qe as FakeBridge, V as LabelButton, Qe as LiveBridge, B as PrimaryButton, et as ScriptHostComponent, D as Title1, N as Title2, _ as Title3, P as Title4, b as Translator, w as default, v as isInstanceOf };","map":{"version":3,"names":["u","__assign","Object","assign","e","t","n","a","arguments","length","r","prototype","hasOwnProperty","call","apply","m","Promise","o","l","c","next","i","throw","done","value","then","f","label","sent","trys","ops","create","Iterator","return","Symbol","iterator","TypeError","pop","push","p","Array","slice","concat","SuppressedError","g","factory","start","console","log","locale","setState","render","debug","renderPage","page","__type__","command","payload","resolve","createPage","updateElements","map","cloneElement","key","elements","terminate","v","isInstanceOf","h","isLike","forEach","Error","String","x","E","y","Page","createElement","className","body","w","translations","defaultLocale","add","translate","d","escape","values","b","nl","k","BodyLarge","text","color","margin","C","BodySmall","D","Title1","N","Title2","_","Title3","P","Title4","F","Label","S","Caption","R","EndPage","L","title","Fragment","z","O","j","I","Spinner","spinning","id","xmlns","fill","viewBox","cx","cy","stroke","B","PrimaryButton","enabled","s","onClick","role","includes","U","BackIconButton","M","icon","T","ForwardIconButton","IconButton","src","A","IconLabelButton","alignment","alt","V","LabelButton","H","FileInput","useState","useRef","J","description","note","placeholder","extensions","selectButton","continueButton","ref","type","accept","onChange","target","files","JSON","stringify","name","current","click","G","K","Z","W","continueButtonLabel","selectButtonLabel","Q","ProgressBar","percentage","style","width","q","Progress","message","Y","Confirm","ok","cancel","X","RadioItem","selected","onSelect","$","RadioInput","items","ee","at","te","CheckBox","ne","SearchBar","debounce","onSearch","split","onKeyPress","preventDefault","ae","re","oe","PageIcon","index","le","Pagination","pageCount","pageWindowLegSize","range","Math","min","ie","TablePage","head","rows","edit","link","ce","cells","indexOf","splice","URL","protocol","href","rel","se","TableCardItem","de","ue","TableCard","row","headCells","onDelete","me","TableCards","fe","Table","readOnly","desktopPage","desktopPageCount","desktopRows","mobilePage","mobilePageCount","mobileRows","deletedCount","visibility","delete","undo","table","noData","noDataLeft","noResults","xe","Ee","ge","ve","he","desktopPages","be","mobilePages","ye","deleted","we","searchPlaceholder","pe","ceil","filter","join","find","findIndex","max","ke","NumberIcon","number","Ce","context","useEffect","onDataSubmissionDataChanged","De","data","Ne","metadata","deletedRowCount","fromPairs","zip","displayName","_e","DonateButtons","onDonate","onCancel","donateQuestion","donateButton","Pe","Fe","Se","Re","TextBlock","Le","ze","Oe","je","Ie","data_frame","parse","headers","keys","Be","getOwnPropertySymbols","propertyIsEnumerable","Ue","Te","DataSubmissionPage","header","promptFactories","Map","set","fromEntries","isArray","Me","Ae","factories","registerFactory","Ve","We","He","Je","Ze","bridge","visualizationEngine","onCommand","onCommandSystem","onCommandUI","send","error","catch","Ge","sessionId","commandHandler","worker","onerror","onmessage","eventType","handleEvent","sendSystemEvent","resolveInitialized","scriptEvent","handleRunCycle","waitForInitialization","firstRunCycle","postMessage","nextRunCycle","response","Ke","Assembly","Date","now","router","processingEngine","Qe","port","addEventListener","action","initialized","ports","qe","handleDataSubmission","handleExit","json_string","fetch","method","status","code","info","Ye","Xe","VisualizationProvider","children","Provider","state","$e","FeldsparContent","workerUrl","standalone","Worker","run","process","env","NODE_ENV","window","ResizeObserver","document","documentElement","getBoundingClientRect","height","parent","observe","disconnect","setTimeout","et","ScriptHostComponent","DataSubmissionPageFactory","FakeBridge","LiveBridge","Translator","default"],"sources":["/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/node_modules/tslib/tslib.es6.js","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/engine.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/helpers.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/types/pages.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/pages/templates/page.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/text_bundle.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/translator.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/types/elements.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/text.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/pages/end_page.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/factories/end_page.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/spinner.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/button.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/back.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/forward.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/file_input.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/progress_bar.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/progress.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/confirm.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/radio.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/radio_item.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/radio_active.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/radio_input.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/check_box.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/check.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/check_active.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/search_bar.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/undo.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/assets/images/delete.svg","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/page_icon.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/pagination.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/table_page.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/table_card_item.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/table_card.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/table_cards.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/table.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/elements/number_icon.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/consent_table.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/donate_buttons.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/text_block.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/prompts/factory.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/types/prompts.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/ui/pages/data_submission_page.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/factories/data_submission_page.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/factory.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/types/commands.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/command_router.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/processing/worker_engine.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/assembly.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/live_bridge.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/fake_bridge.ts","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/framework/visualization/react/context.tsx","/home/turbo/d3i/projects/tim_reeskens/dd-instagram-tiu/packages/feldspar/src/components/script_host_component.tsx"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import { Response, CommandUIRender } from \"../../types/commands\";\nimport { PropsUIPage } from \"../../types/pages\";\nimport VisualizationFactory from \"./factory\";\nimport { JSX } from \"react\";\nimport React from \"react\";\n\nexport default class ReactEngine {\n  factory: VisualizationFactory;\n  locale!: string;\n  private setState?: (state: { elements: JSX.Element[] }) => void;\n\n  constructor(factory: VisualizationFactory) {\n    this.factory = factory;\n  }\n\n  start(\n    container: HTMLElement,\n    locale: string,\n    setState: (state: { elements: JSX.Element[] }) => void\n  ): void {\n    console.log(\"[ReactEngine] started\");\n    this.locale = locale;\n    this.setState = setState;\n  }\n\n  async render(command: CommandUIRender): Promise<Response> {\n    console.debug(\"[ReactEngine] render\", command);\n    const payload = await this.renderPage(command.page);\n    console.log(\"[ReactEngine] render done\", command, payload);\n    return { __type__: \"Response\", command, payload };\n  }\n\n  renderPage(props: PropsUIPage): Promise<any> {\n    return new Promise<any>((resolve) => {\n      const context = { locale: this.locale, resolve };\n      const page = this.factory.createPage(props, context);\n      this.updateElements([page]);\n    });\n  }\n\n  private updateElements(elements: JSX.Element[]): void {\n    if (!this.setState) return;\n    const elementsWithKeys = elements.map((element, index) =>\n      React.cloneElement(element, { key: `feldspar-element-${index}` })\n    );\n    this.setState({ elements: elementsWithKeys });\n  }\n\n  terminate(): void {\n    this.setState = undefined;\n  }\n}\n","import { Omit } from 'lodash'\n\nexport const isInstanceOf = <T>(\n  arg: any,\n  type: string,\n  properties: Array<keyof T>\n): arg is T => {\n  return arg?.__type__ === type && isLike<T>(arg, properties)\n}\n\nexport const isLike = <T>(\n  arg: any,\n  properties: Array<keyof T>\n): arg is T => {\n  properties.forEach((property) => assert((arg as T)[property] !== undefined, `Property ${String(property)} is required`))\n  return true\n}\n\nexport function assert (condition: unknown, msg?: string): asserts condition {\n  if (condition === false) throw new Error(msg)\n}\n\nexport type Weak<T> = Omit<T, '__type__'>\n","import { isInstanceOf } from '../helpers'\nimport { PromptFactory } from '../visualization/react/ui/prompts/factory'\nimport { PropsUIHeader } from './elements'\nimport { PropsUIPromptFileInput, PropsUIPromptProgress, PropsUIPromptConfirm, PropsUIPromptConsentForm, PropsUIPromptRadioInput } from './prompts'\n\nexport type PropsUIPage =\n  PropsUIPageSplashScreen |\n  PropsUIPageDataSubmission |\n  PropsUIPageEnd\n\nexport function isPropsUIPage (arg: any): arg is PropsUIPage {\n  return (\n    isPropsUIPageDataSubmission(arg) ||\n    isPropsUIPageEnd(arg)\n  )\n}\n\nexport interface PropsUIPageSplashScreen {\n  __type__: 'PropsUIPageSplashScreen'\n}\n\nexport interface PropsUIPageDataSubmission {\n  __type__: 'PropsUIPageDataSubmission'\n  platform: string\n  header: PropsUIHeader\n  body: (PropsUIPromptFileInput | PropsUIPromptProgress | PropsUIPromptConfirm | PropsUIPromptConsentForm | PropsUIPromptRadioInput)[]\n  promptFactories?: PromptFactory[]\n}\nexport function isPropsUIPageDataSubmission (arg: any): arg is PropsUIPageDataSubmission {\n  return isInstanceOf<PropsUIPageDataSubmission>(arg, 'PropsUIPageDataSubmission', ['platform', 'header', 'body'])\n}\n\nexport interface PropsUIPageEnd {\n  __type__: 'PropsUIPageEnd'\n}\nexport function isPropsUIPageEnd (arg: any): arg is PropsUIPageEnd {\n  return isInstanceOf<PropsUIPageEnd>(arg, 'PropsUIPageEnd', [])\n}\n","import React from \"react\";\nimport { JSX } from \"react\";\n\ninterface PageProps {\n  body: JSX.Element;\n}\n\nexport const Page = (props: PageProps): JSX.Element => {\n  return <div className=\"w-full h-full\">{props.body}</div>;\n};\n","import _ from 'lodash'\nimport { Translatable } from './types/elements'\n\nexport default class TextBundle implements Translatable {\n  translations: { [key: string]: string } = {}\n  defaultLocale: string = 'nl'\n\n  add (locale: string, text: string): TextBundle {\n    this.translations[locale] = text\n    return this\n  }\n\n  translate (locale: string): string {\n    return _.escape(this.resolve(locale))\n  }\n\n  resolve (locale: string): string {\n    const text = this.translations[locale]\n    if (text !== null) {\n      return text\n    }\n\n    const defaultText = this.translations[this.defaultLocale]\n    if (defaultText !== null) {\n      return defaultText\n    }\n\n    if (Object.values(this.translations).length > 0) {\n      return Object.values(this.translations)[0]\n    }\n\n    return '?text?'\n  }\n}\n","import { isTranslatable, Text, Translatable } from './types/elements'\n\nexport const Translator = (function () {\n  const defaultLocale: string = 'nl'\n\n  function translate (text: Text, locale: string): string {\n    if (typeof text === 'string') {\n      return text\n    }\n    if (isTranslatable(text)) {\n      return resolve(text, locale)\n    }\n    throw new TypeError('Unknown text type')\n  }\n\n  function resolve (translatable: Translatable, locale: string): string {\n    const text = translatable.translations[locale]\n    if (text !== null) {\n      return text\n    }\n\n    const defaultText = translatable.translations[defaultLocale]\n    if (defaultText !== null) {\n      return defaultText\n    }\n\n    if (Object.values(translatable.translations).length > 0) {\n      return Object.values(translatable.translations)[0]\n    }\n\n    return '?text?'\n  }\n\n  return {\n    translate\n  }\n})()\n","import { isInstanceOf, isLike } from '../helpers'\nimport { } from './commands'\nimport { isPropsUIPage, PropsUIPage } from './pages'\nimport { isPropsUIPrompt, PropsUIPrompt } from './prompts'\n\nexport type PropsUI =\n  PropsUIText |\n  PropsUIButton |\n  PropsUICheckBox |\n  PropsUIRadioItem |\n  PropsUINumberIcon |\n  PropsUISpinner |\n  PropsUIProgressBar |\n  PropsUIPagination |\n  PropsUIHeader |\n  PropsUITable |\n  PropsUITablePage |\n  PropsUITableCard |\n  PropsUITableCardItem |\n  PropsUISearchBar |\n  PropsUIPage |\n  PropsUIPrompt\n\nexport type PropsUIText =\n  PropsUITextTitle0 |\n  PropsUITextTitle1 |\n  PropsUITextTitle2 |\n  PropsUITextTitle3 |\n  PropsUITextTitle6 |\n  PropsUITextBodyLarge |\n  PropsUITextLabel\n\nexport type PropsUIButton =\n  PropsUIButtonPrimary |\n  PropsUIButtonSecundary |\n  PropsUIButtonBack |\n  PropsUIButtonForward |\n  PropsUIButtonIconBack |\n  PropsUIButtonIconForward |\n  PropsUIButtonIcon |\n  PropsUIButtonLabel |\n  PropsUIButtonIconLabel\n\n// UI\n\nexport function isPropsUI (arg: any): arg is PropsUI {\n  return isPropsUIText(arg) ||\n    isPropsUIButton(arg) ||\n    isPropsUISpinner(arg) ||\n    isPropsUIProgress(arg) ||\n    isPropsUIPagination(arg) ||\n    isPropsUIHeader(arg) ||\n    isPropsUITable(arg) ||\n    isPropsUIPage(arg) ||\n    isPropsUIPrompt(arg)\n}\n\n// TEXTS\n\nexport function isPropsUIText (arg: any): arg is PropsUIText {\n  return isPropsUITextTitle0(arg) ||\n    isPropsUITextTitle0(arg) ||\n    isPropsUITextTitle1(arg) ||\n    isPropsUITextTitle2(arg) ||\n    isPropsUITextTitle3(arg) ||\n    isPropsUITextTitle4(arg) ||\n    isPropsUITextTitle6(arg) ||\n    isPropsUITextBodyLarge(arg) ||\n    isPropsUITextBodyMedium(arg) ||\n    isPropsUITextLabel(arg) ||\n    isPropsUITextCaption(arg)\n}\n\nexport interface PropsUITextLabel {\n  __type__: 'PropsUITextLabel'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextLabel (arg: any): arg is PropsUITextLabel {\n  return isInstanceOf<PropsUITextLabel>(arg, 'PropsUITextLabel', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextCaption {\n  __type__: 'PropsUITextCaption'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextCaption (arg: any): arg is PropsUITextCaption {\n  return isInstanceOf<PropsUITextCaption>(arg, 'PropsUITextCaption', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextBodyLarge {\n  __type__: 'PropsUITextBodyLarge'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextBodyLarge (arg: any): arg is PropsUITextBodyLarge {\n  return isInstanceOf<PropsUITextBodyLarge>(arg, 'PropsUITextBodyLarge', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextBodyMedium {\n  __type__: 'PropsUITextBodyMedium'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextBodyMedium (arg: any): arg is PropsUITextBodyMedium {\n  return isInstanceOf<PropsUITextBodyMedium>(arg, 'PropsUITextBodyMedium', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextBodySmall {\n  __type__: 'PropsUITextBodySmall'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextBodySmall (arg: any): arg is PropsUITextBodySmall {\n  return isInstanceOf<PropsUITextBodySmall>(arg, 'PropsUITextBodySmall', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextTitle0 {\n  __type__: 'PropsUITextTitle0'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextTitle0 (arg: any): arg is PropsUITextTitle0 {\n  return isInstanceOf<PropsUITextTitle0>(arg, 'PropsUITextTitle0', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextTitle1 {\n  __type__: 'PropsUITextTitle1'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextTitle1 (arg: any): arg is PropsUITextTitle1 {\n  return isInstanceOf<PropsUITextTitle1>(arg, 'PropsUITextTitle1', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextTitle2 {\n  __type__: 'PropsUITextTitle2'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextTitle2 (arg: any): arg is PropsUITextTitle2 {\n  return isInstanceOf<PropsUITextTitle2>(arg, 'PropsUITextTitle2', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextTitle3 {\n  __type__: 'PropsUITextTitle3'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextTitle3 (arg: any): arg is PropsUITextTitle3 {\n  return isInstanceOf<PropsUITextTitle3>(arg, 'PropsUITextTitle3', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextTitle4 {\n  __type__: 'PropsUITextTitle4'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextTitle4 (arg: any): arg is PropsUITextTitle4 {\n  return isInstanceOf<PropsUITextTitle4>(arg, 'PropsUITextTitle4', ['text', 'color', 'margin'])\n}\n\nexport interface PropsUITextTitle6 {\n  __type__: 'PropsUITextTitle6'\n  text: string\n  color?: string\n  margin?: string\n}\nexport function isPropsUITextTitle6 (arg: any): arg is PropsUITextTitle6 {\n  return isInstanceOf<PropsUITextTitle6>(arg, 'PropsUITextTitle6', ['text', 'color', 'margin'])\n}\n\n// BUTTONS\n\nexport function isPropsUIButton (arg: any): arg is PropsUIButton {\n  return isPropsUIButtonPrimary(arg) ||\n    isPropsUIButtonSecundary(arg) ||\n    isPropsUIButtonBack(arg) ||\n    isPropsUIButtonForward(arg) ||\n    isPropsUIButtonIconBack(arg) ||\n    isPropsUIButtonIconForward(arg) ||\n    isPropsUIButtonIcon(arg) ||\n    isPropsUIButtonLabel(arg) ||\n    isPropsUIButtonIconLabel(arg)\n}\n\nexport interface PropsUIButtonPrimary {\n  __type__: 'PropsUIButtonPrimary'\n  label: string\n  color?: string\n  enabled?: boolean\n  spinning?: boolean\n  onClick: () => void\n}\nexport function isPropsUIButtonPrimary (arg: any): arg is PropsUIButtonPrimary {\n  return isInstanceOf<PropsUIButtonPrimary>(arg, 'PropsUIButtonPrimary', ['label', 'color', 'onClick'])\n}\n\nexport interface PropsUIButtonSecundary {\n  __type__: 'PropsUIButtonSecundary'\n  label: string\n  color?: string\n  onClick: () => void\n}\nexport function isPropsUIButtonSecundary (arg: any): arg is PropsUIButtonSecundary {\n  return isInstanceOf<PropsUIButtonSecundary>(arg, 'PropsUIButtonSecundary', ['label', 'color', 'onClick'])\n}\n\nexport interface PropsUIButtonBack {\n  __type__: 'PropsUIButtonBack'\n  label: string\n  onClick: () => void\n}\nexport function isPropsUIButtonBack (arg: any): arg is PropsUIButtonBack {\n  return isInstanceOf<PropsUIButtonBack>(arg, 'PropsUIButtonBack', ['label', 'onClick'])\n}\n\nexport interface PropsUIButtonForward {\n  __type__: 'PropsUIButtonForward'\n  label: string\n  onClick: () => void\n}\nexport function isPropsUIButtonForward (arg: any): arg is PropsUIButtonForward {\n  return isInstanceOf<PropsUIButtonForward>(arg, 'PropsUIButtonForward', ['label', 'onClick'])\n}\n\nexport interface PropsUIButtonIconBack {\n  __type__: 'PropsUIButtonIconBack'\n  onClick: () => void\n}\nexport function isPropsUIButtonIconBack (arg: any): arg is PropsUIButtonIconBack {\n  return isInstanceOf<PropsUIButtonIconBack>(arg, 'PropsUIButtonIconBack', ['onClick'])\n}\n\nexport interface PropsUIButtonIconForward {\n  __type__: 'PropsUIButtonIconForward'\n  onClick: () => void\n}\nexport function isPropsUIButtonIconForward (arg: any): arg is PropsUIButtonIconForward {\n  return isInstanceOf<PropsUIButtonIconForward>(arg, 'PropsUIButtonIconForward', ['onClick'])\n}\n\nexport interface PropsUIButtonIcon {\n  __type__: 'PropsUIButtonIcon'\n  icon: string\n  onClick: () => void\n}\nexport function isPropsUIButtonIcon (arg: any): arg is PropsUIButtonIcon {\n  return isInstanceOf<PropsUIButtonIcon>(arg, 'PropsUIButtonIcon', ['icon', 'onClick'])\n}\n\nexport interface PropsUIButtonIconLabel {\n  __type__: 'PropsUIButtonIconLabel'\n  icon: string\n  label: string\n  color?: string\n  alignment?: string\n  onClick: () => void\n}\nexport function isPropsUIButtonIconLabel (arg: any): arg is PropsUIButtonIconLabel {\n  return isInstanceOf<PropsUIButtonIconLabel>(arg, 'PropsUIButtonIconLabel', ['icon', 'label', 'color', 'alignment', 'onClick'])\n}\n\nexport interface PropsUIButtonLabel {\n  __type__: 'PropsUIButtonLabel'\n  label: string\n  color?: string\n  onClick: () => void\n}\nexport function isPropsUIButtonLabel (arg: any): arg is PropsUIButtonLabel {\n  return isInstanceOf<PropsUIButtonLabel>(arg, 'PropsUIButtonLabel', ['label', 'onClick'])\n}\n\n// Radio item\n\nexport interface PropsUIRadioItem {\n  id: number\n  value: string\n  selected: boolean\n  onSelect: () => void\n}\nexport function isPropsUIRadioItem (arg: any): arg is PropsUIRadioItem {\n  return isInstanceOf<PropsUIRadioItem>(arg, 'PropsUIRadioItem', ['id', 'value', 'selected', 'onSelect'])\n}\n\n// Number icon\n\nexport interface PropsUINumberIcon {\n  number: number\n}\nexport function isPropsUINumberIcon (arg: any): arg is PropsUINumberIcon {\n  return isInstanceOf<PropsUINumberIcon>(arg, 'PropsUINumberIcon', ['number'])\n}\n\n// Check box\n\nexport interface PropsUICheckBox {\n  id: string\n  selected: boolean\n  onSelect: () => void\n}\nexport function isPropsUICheckBox (arg: any): arg is PropsUICheckBox {\n  return isInstanceOf<PropsUICheckBox>(arg, 'PropsUICheckBox', ['id', 'selected', 'onSelect'])\n}\n\n// SPINNER\n\nexport interface PropsUISpinner {\n  __type__: 'PropsUISpinner'\n  spinning?: boolean\n  color?: string\n}\nexport function isPropsUISpinner (arg: any): arg is PropsUISpinner {\n  return isInstanceOf<PropsUISpinner>(arg, 'PropsUISpinner', ['color', 'spinning'])\n}\n\n// PROGRESS BAR\n\nexport interface PropsUIProgressBar {\n  __type__: 'PropsUIProgressBar'\n  percentage: number\n}\nexport function isPropsUIProgress (arg: any): arg is PropsUIProgressBar {\n  return isInstanceOf<PropsUIProgressBar>(arg, 'PropsUIProgressBar', ['percentage'])\n}\n\n// PAGINATION\n\nexport interface PropsUIPagination {\n  __type__: 'PropsUIPagination'\n  page: number\n  pageCount: number\n  pageWindowLegSize: number\n}\nexport function isPropsUIPagination (arg: any): arg is PropsUIPagination {\n  return isInstanceOf<PropsUIPagination>(arg, 'PropsUIPagination', ['page', 'pageCount'])\n}\n\n// HEADER\n\nexport interface PropsUIHeader {\n  __type__: 'PropsUIHeader'\n  title: Text\n}\nexport function isPropsUIHeader (arg: any): arg is PropsUIHeader {\n  return isInstanceOf<PropsUIHeader>(arg, 'PropsUIHeader', ['title'])\n}\n\n// TABLE\n\nexport interface PropsUITable {\n  __type__: 'PropsUITable'\n  id: string\n  head: PropsUITableHead\n  body: PropsUITableBody\n  readOnly?: boolean\n  pageSize?: number\n}\nexport function isPropsUITable (arg: any): arg is PropsUITable {\n  return isInstanceOf<PropsUITable>(arg, 'PropsUITable', ['readOnly', 'pageSize', 'id', 'head', 'body'])\n}\n\nexport interface PropsUITablePage {\n  __type__: 'PropsUITablePage'\n  head: PropsUITableHead\n  rows: PropsUITableRow[]\n}\nexport function isPropsUITablePage (arg: any): arg is PropsUITablePage {\n  return isInstanceOf<PropsUITablePage>(arg, 'PropsUITablePage', ['head', 'rows'])\n}\n\nexport interface PropsUITableCard {\n  __type__: 'PropsUITableCard'\n  headCells: PropsUITableCell[]\n  row: PropsUITableRow\n}\nexport function isPropsUITableCard (arg: any): arg is PropsUITableCard {\n  return isInstanceOf<PropsUITableCard>(arg, 'PropsUITableCard', ['headCells', 'row'])\n}\n\nexport interface PropsUITableCardItem {\n  __type__: 'PropsUITableCardItem'\n  title: PropsUITableCell\n  description: PropsUITableCell\n}\nexport function isPropsUITableCardItem (arg: any): arg is PropsUITableCardItem {\n  return isInstanceOf<PropsUITableCardItem>(arg, 'PropsUITableCardItem', ['title', 'description'])\n}\n\nexport interface PropsUITableHead {\n  __type__: 'PropsUITableHead'\n  cells: PropsUITableCell[]\n}\nexport function isPropsUITableHead (arg: any): arg is PropsUITableHead {\n  return isInstanceOf<PropsUITableHead>(arg, 'PropsUITableHead', ['cells'])\n}\n\nexport interface PropsUITableBody {\n  __type__: 'PropsUITableBody'\n  rows: PropsUITableRow[]\n}\nexport function isPropsUITableBody (arg: any): arg is PropsUITableBody {\n  return isInstanceOf<PropsUITableBody>(arg, 'PropsUITableBody', ['rows'])\n}\n\nexport interface PropsUITableRow {\n  __type__: 'PropsUITableRow'\n  id: string\n  cells: PropsUITableCell[]\n}\nexport function isPropsUITableRow (arg: any): arg is PropsUITableRow {\n  return isInstanceOf<PropsUITableRow>(arg, 'PropsUITableRow', ['id', 'cells'])\n}\n\nexport interface PropsUITableCell {\n  __type__: 'PropsUITableCell'\n  text: string\n}\nexport function isPropsUITableCell (arg: any): arg is PropsUITableCell {\n  return isInstanceOf<PropsUITableCell>(arg, 'PropsUITableCell', ['text'])\n}\n\n// SEARCH BAR\n\nexport interface PropsUISearchBar {\n  __type__: 'PropsUISearchBar'\n  placeholder: string\n  debounce?: number\n  onSearch: (words: string[]) => void\n}\nexport function isPropsUISearchBar (arg: any): arg is PropsUISearchBar {\n  return isInstanceOf<PropsUISearchBar>(arg, 'PropsUISearchBar', ['placeholder'])\n}\n\n// BASE TYPES\n\nexport type Text = Translatable | string\n\nexport function isText (arg: any): arg is Text {\n  return typeof arg === 'string' || isTranslatable(arg)\n}\n\nexport interface Translatable {\n  translations: { [locale: string]: string }\n}\nexport function isTranslatable (arg: any): arg is Translatable {\n  return isLike<Translatable>(arg, ['translations'])\n}\n","import { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { PropsUITextBodyLarge, PropsUITextBodyMedium, PropsUITextBodySmall, PropsUITextLabel, PropsUITextCaption, PropsUITextTitle0, PropsUITextTitle1, PropsUITextTitle2, PropsUITextTitle3, PropsUITextTitle4, PropsUITextTitle6 } from '../../../../types/elements'\nimport React from 'react'\n\nexport const BodyLarge = ({ text, color = 'text-grey1', margin = 'mb-6 md:mb-8 lg:mb-10' }: Weak<PropsUITextBodyLarge>): JSX.Element => {\n  return (\n    <div className={`text-bodylarge font-body ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const BodyMedium = ({ text, color = 'text-grey1', margin = 'mb-6 md:mb-8 lg:mb-10' }: Weak<PropsUITextBodyMedium>): JSX.Element => {\n  return (\n    <div className={`text-bodymedium font-body ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const BodySmall = ({ text, color = 'text-grey1', margin = '' }: Weak<PropsUITextBodySmall>): JSX.Element => {\n  return (\n    <div className={`text-bodysmall font-body ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const Title0 = ({ text, color = 'text-grey1', margin = 'mb-6 md:mb-8 lg:mb-10' }: Weak<PropsUITextTitle0>): JSX.Element => {\n  return (\n    <div className={`text-title4 font-title4 sm:text-title2 sm:font-title2 lg:text-title0 lg:font-title0 ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const Title1 = ({ text, color = 'text-grey1', margin = 'mb-6 md:mb-8' }: Weak<PropsUITextTitle1>): JSX.Element => {\n  return (\n    <h1 className={`text-title3 font-title3 sm:text-title2 lg:text-title1 lg:font-title1 ${color} ${margin}`}>\n      {text}\n    </h1>\n  )\n}\n\nexport const Title2 = ({ text, color = 'text-grey1', margin = 'mb-6 md:mb-8 lg:mb-10' }: Weak<PropsUITextTitle2>): JSX.Element => {\n  return (\n    <h2 className={`text-title4 font-title4 sm:text-title3 sm:font-title3 lg:text-title2 lg:font-title2 ${color} ${margin}`}>\n      {text}\n    </h2>\n  )\n}\n\nexport const Title3 = ({ text, color = 'text-grey1', margin = 'mb-3 md:mb-5 lg:mb-6' }: Weak<PropsUITextTitle3>): JSX.Element => {\n  return (\n    <div className={`text-title5 font-title5 sm:text-title4 sm:font-title4 lg:text-title3 lg:font-title3 ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const Title4 = ({ text, color = 'text-grey1', margin = 'mb-3 md:mb-5 lg:mb-6' }: Weak<PropsUITextTitle4>): JSX.Element => {\n  return (\n    <div className={`text-title6 font-title6 sm:text-title5 sm:font-title5 lg:text-title4 lg:font-title4 ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const Title6 = ({ text, color = 'text-grey1', margin = 'mb-2' }: Weak<PropsUITextTitle6>): JSX.Element => {\n  return (\n    <div className={`text-title6 font-title6 ${margin} ${color}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const Label = ({ text, color = 'text-grey1', margin = '' }: Weak<PropsUITextLabel>): JSX.Element => {\n  return (\n    <div className={`text-label font-label ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n\nexport const Caption = ({ text, color = 'text-grey1', margin = '' }: Weak<PropsUITextCaption>): JSX.Element => {\n  return (\n    <div className={`text-caption font-caption ${color} ${margin}`}>\n      {text}\n    </div>\n  )\n}\n","import { Weak } from \"../../../../helpers\";\nimport { PropsUIPageEnd } from \"../../../../types/pages\";\nimport { ReactFactoryContext } from \"../../factory\";\nimport { Page } from \"./templates/page\";\nimport TextBundle from \"../../../../text_bundle\";\nimport { Translator } from \"../../../../translator\";\nimport { BodyLarge, Title1 } from \"../elements/text\";\nimport { JSX } from \"react\";\nimport React from \"react\";\n\ntype Props = Weak<PropsUIPageEnd> & ReactFactoryContext;\n\nexport const EndPage = (props: Props): JSX.Element => {\n  const { title, text } = prepareCopy(props);\n\n  const body: JSX.Element = (\n    <>\n      <Title1 text={title} />\n      <BodyLarge text={text} />\n    </>\n  );\n\n  return <Page body={body} />;\n};\n\ninterface Copy {\n  title: string;\n  text: string;\n}\n\nfunction prepareCopy({ locale }: Props): Copy {\n  return {\n    title: Translator.translate(title, locale),\n    text: Translator.translate(text, locale),\n  };\n}\n\nconst title = new TextBundle()\n  .add(\"en\", \"Thank you\")\n  .add(\"de\", \"Danke\")\n  .add(\"it\", \"Grazie\")\n  .add(\"nl\", \"Bedankt\");\n\nconst text = new TextBundle()\n  .add(\n    \"en\",\n    \"Thank you for your participation. You can now close the page or refresh to restart the DataSubmission flow.\"\n  )\n  .add(\n    \"de\",\n    \"Herzlichen Dank für Ihre Teilnahme. Sie können diese Seite nun schließen oder die Seite aktualisieren, um die Datenspende erneut durchzuführen.\"\n  )\n  .add(\n    \"it\",\n    \"Grazie per la tua partecipazione. Ora puoi chiudere la pagina o aggiornare per riavviare il flusso di donazione.\"\n  )\n  .add(\n    \"nl\",\n    \"Hartelijk dank voor uw deelname. U kunt deze pagina nu sluiten of de pagina verversen om de flow nogmaals te doorlopen.\"\n  );\n","import { PropsUIPage, isPropsUIPageEnd } from \"../../../types/pages\";\nimport { ReactFactoryContext } from \"../factory\";\nimport { EndPage } from \"../ui/pages/end_page\";\nimport { PageFactory } from \"./base\";\nimport React from \"react\";\n\nexport class EndPageFactory implements PageFactory {\n  createPage(page: PropsUIPage, context: ReactFactoryContext) {\n    if (isPropsUIPageEnd(page)) {\n      return <EndPage {...page} {...context} />;\n    }\n    return null;\n  }\n}\n","import { Weak } from \"../../../../helpers\";\nimport { PropsUISpinner } from \"../../../../types/elements\";\nimport { JSX } from \"react\";\nimport React from \"react\";\n\ntype Props = Weak<PropsUISpinner>;\n\nexport const Spinner = ({\n  spinning = true,\n  color = \"light\",\n}: Props): JSX.Element => {\n  const textColor = color === \"dark\" ? \"text-gray-600\" : \"text-white\";\n\n  if (!spinning) {\n    return <div />;\n  }\n\n  return (\n    <div id=\"spinner\" className=\"flex items-center justify-center\">\n      <svg\n        className={`animate-spin -ml-1 mr-3 h-5 w-5 ${textColor}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          stroke-width=\"4\"\n        ></circle>\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        ></path>\n      </svg>\n    </div>\n  );\n};\n","\nimport React from 'react'\nimport { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { PropsUIButtonBack, PropsUIButtonForward, PropsUIButtonIcon, PropsUIButtonIconBack, PropsUIButtonIconForward, PropsUIButtonIconLabel, PropsUIButtonLabel, PropsUIButtonPrimary, PropsUIButtonSecundary } from '../../../../types/elements'\n\nimport BackSvg from '../../../../../assets/images/back.svg'\nimport ForwardSvg from '../../../../../assets/images/forward.svg'\nimport { Spinner } from './spinner'\n\nfunction spinnerColor (buttonColor: string): string {\n  if (buttonColor.includes('bg-tertiary')) {\n    return 'dark'\n  }\n  return 'light'\n}\n\nexport const PrimaryButton = ({ label, spinning = false, enabled = true, color = 'bg-primary text-white', onClick }: Weak<PropsUIButtonPrimary>): JSX.Element => {\n  return (\n    <div role=\"button\" className='relative'>\n      <div className={`flex flex-col items-center leading-none font-button text-button rounded ${enabled ? 'cursor-pointer active:shadow-top4px' : ''} ${color}`} onClick={onClick}>\n        <div id='confirm-button' className={`pt-15px pb-15px pr-4 pl-4 ${enabled ? 'active:pt-4 active:pb-14px' : ''} ${spinning ? 'opacity-0' : ''}`}>\n          {label}\n        </div>\n      </div>\n      <div className={`absolute top-0 h-full w-full flex flex-col justify-center items-center ${spinning ? '' : 'hidden'}`}>\n        <div className='w-5 h-5'>\n          <Spinner color={spinnerColor(color)} spinning={spinning} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport const SecondaryButton = ({ label, color = 'bg-delete text-delete', onClick }: Weak<PropsUIButtonSecundary>): JSX.Element => {\n  return (\n    <div role=\"button\" className='relative'>\n      <div className={`flex flex-col items-center active:shadow-top2px border-2 font-button text-button rounded bg-opacity-0 cursor-pointer ${color}`} onClick={onClick}>\n        <div className='pt-13px pb-13px pr-4 pl-4 active:pt-14px active:pb-3'>\n          {label}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport const BackButton = ({ label, onClick }: Weak<PropsUIButtonBack>): JSX.Element => {\n  return <IconLabelButton icon={BackSvg} label={label} onClick={onClick} />\n}\n\nexport const ForwardButton = ({ label, onClick }: Weak<PropsUIButtonForward>): JSX.Element => {\n  return <IconLabelButton icon={ForwardSvg} label={label} onClick={onClick} alignment='right' />\n}\n\nexport const BackIconButton = ({ onClick }: Weak<PropsUIButtonIconBack>): JSX.Element => {\n  return <IconButton icon={BackSvg} onClick={onClick} />\n}\n\nexport const ForwardIconButton = ({ onClick }: Weak<PropsUIButtonIconForward>): JSX.Element => {\n  return <IconButton icon={ForwardSvg} onClick={onClick} />\n}\n\nexport const IconButton = ({ icon, onClick }: Weak<PropsUIButtonIcon>): JSX.Element => {\n  return (\n    <div role=\"button\" className='active:pt-5px active:pb-3px focus:outline-none cursor-pointer w-6 h-6' onClick={onClick}>\n      <div className='flex flex-col items-center h-full w-full'>\n        <div className='flex-grow' />\n        <div>\n          <img className='-mt-2px' src={icon} />\n        </div>\n        <div className='flex-grow' />\n      </div>\n    </div>\n  )\n}\n\nexport const IconLabelButton = ({ icon, label, color = 'text-grey1', alignment = 'left', onClick }: Weak<PropsUIButtonIconLabel>): JSX.Element => {\n  return (\n    <div role=\"button\" className='pt-1 pb-1 active:pt-5px active:pb-3px rounded bg-opacity-0 focus:outline-none cursor-pointer ' onClick={onClick}>\n      <div className='flex items-center'>\n        <div className={`${alignment === 'left' ? '' : 'hidden'}`}>\n          <img className='mr-2 -mt-2px' src={icon} alt={label} />\n        </div>\n        <div className='focus:outline-none'>\n          <div className='flex flex-col justify-center h-full items-center'>\n            <div className={`flex-wrap text-button font-button ${color}`}>\n              {label}\n            </div>\n          </div>\n        </div>\n        <div className={`${alignment !== 'left' ? '' : 'hidden'}`}>\n          <img className='ml-2 -mt-2px' src={icon} alt={label} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport const LabelButton = ({ label, color = 'text-grey1', onClick }: Weak<PropsUIButtonLabel>): JSX.Element => {\n  return (\n    <div role=\"button\" className={`pt-15px pb-15px active:pt-4 active:pb-14px leading-none font-button text-button rounded pr-4 pl-4 cursor-pointer bg-opacity-0 ${color}`} onClick={onClick}>\n      <div id='confirm-button' className='flex-wrap'>\n        {label}\n      </div>\n    </div>\n  )\n}\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%228%22%20height%3D%2213%22%20viewBox%3D%220%200%208%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M7.41%2011.09L2.83%206.5L7.41%201.91L6%200.5L0%206.5L6%2012.5L7.41%2011.09Z%22%20fill%3D%22%234272EF%22%2F%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20width%3D%228%22%20height%3D%2213%22%20viewBox%3D%220%200%208%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0.190186%2011.34L4.77019%206.75L0.190186%202.16L1.60019%200.75L7.60019%206.75L1.60019%2012.75L0.190186%2011.34Z%22%20fill%3D%22%234272EF%22%2F%3E%3C%2Fsvg%3E\"","\nimport React, { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { Translatable } from '../../../../types/elements'\nimport TextBundle from '../../../../text_bundle'\nimport { Translator } from '../../../../translator'\nimport { ReactFactoryContext } from '../../factory'\nimport { PropsUIPromptFileInput } from '../../../../types/prompts'\nimport { PrimaryButton } from '../elements/button'\nimport { BodyLarge, BodySmall } from '../elements/text'\n\ntype Props = Weak<PropsUIPromptFileInput> & ReactFactoryContext\n\nexport const FileInput = (props: Props): JSX.Element => {\n  const [waiting, setWaiting] = React.useState<boolean>(false)\n  const [selectedFile, setSelectedFile] = React.useState<File>()\n  const input = React.useRef<HTMLInputElement>(null)\n\n  const { resolve } = props\n  const { description, note, placeholder, extensions, selectButton, continueButton } = prepareCopy(props)\n\n  function handleClick (): void {\n    input.current?.click()\n  }\n\n  function handleSelect (event: React.ChangeEvent<HTMLInputElement>): void {\n    const files = event.target.files\n    if (files != null && files.length > 0) {\n      setSelectedFile(files[0])\n    } else {\n      console.log('[FileInput] Error selecting file: ' + JSON.stringify(files))\n    }\n  }\n\n  function handleConfirm (): void {\n    if (selectedFile !== undefined && !waiting) {\n      setWaiting(true)\n      resolve?.({ __type__: 'PayloadFile', value: selectedFile })\n    }\n  }\n\n  return (\n    <>\n      <div id='select-panel'>\n        <div className='flex-wrap text-bodylarge font-body text-grey1 text-left'>\n          {description}\n        </div>\n        <div className='mt-8' />\n        <div className='p-6 border-grey4 border-2 rounded'>\n          <input ref={input} id='input' type='file' className='hidden' accept={extensions} onChange={handleSelect} />\n          <div className='flex flex-col sm:flex-row gap-2 sm:gap-4 sm:items-center'>\n            <BodyLarge text={selectedFile?.name ?? placeholder} margin='' color={selectedFile === undefined ? 'text-grey2' : 'textgrey1'} />\n            <div className='flex-grow' />\n            <div className='flex-wrap'>\n              <div className='flex flex-row'>\n                <PrimaryButton onClick={handleClick} label={selectButton} color='bg-tertiary text-grey1' />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='mt-4' />\n        <div className={`${selectedFile === undefined ? 'opacity-30' : 'opacity-100'}`}>\n          <BodySmall text={note} margin='' />\n          <div className='mt-8' />\n          <div className='flex flex-row gap-4'>\n            <PrimaryButton label={continueButton} onClick={handleConfirm} enabled={selectedFile !== undefined} spinning={waiting} />\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\ninterface Copy {\n  description: string\n  note: string\n  placeholder: string\n  extensions: string\n  selectButton: string\n  continueButton: string\n}\n\nfunction prepareCopy ({ description, extensions, locale }: Props): Copy {\n  return {\n    description: Translator.translate(description, locale),\n    note: Translator.translate(note(), locale),\n    placeholder: Translator.translate(placeholder(), locale),\n    extensions: extensions,\n    selectButton: Translator.translate(selectButtonLabel(), locale),\n    continueButton: Translator.translate(continueButtonLabel(), locale)\n  }\n}\n\nconst continueButtonLabel = (): Translatable => {\n  return new TextBundle()\n    .add('en', 'Continue')\n    .add('de', 'Weiter')\n    .add('it', 'Continua')\n    .add('nl', 'Verder')\n}\n\nconst selectButtonLabel = (): Translatable => {\n  return new TextBundle()\n    .add('en', 'Choose file')\n    .add('de', 'Datei auswählen')\n    .add('it', 'Scegli file')\n    .add('nl', 'Kies bestand')\n}\n\nconst note = (): Translatable => {\n  return new TextBundle()\n    .add('en', 'Note: The process to extract the correct data from the file is done on your own device. No data is stored or sent yet.')\n    .add('de', 'Hinweis: Der Prozess zur Extraktion der richtigen Daten aus der Datei erfolgt auf Ihrem eigenen Gerät. Es werden noch keine Daten gespeichert oder gesendet.')\n    .add('it', 'Nota: Il processo per estrarre i dati corretti dal file viene eseguito sul Suo dispositivo. Nessun dato viene ancora memorizzato o inviato.')\n    .add('nl', 'Let op: Het proces om de juiste gegevens uit het bestand te halen wordt uitgevoerd op uw eigen apparaat. Er worden nog geen gegevens opgeslagen of verzonden.')\n}\n\nconst placeholder = (): Translatable => {\n  return new TextBundle()\n    .add('en', 'E.g. data.zip')\n    .add('de', 'Z.B. data.zip')\n    .add('it', 'Esempio: data.zip')\n    .add('nl', 'Voorbeeld: data.zip')\n}\n","import { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { PropsUIProgressBar } from '../../../../types/elements'\nimport React from 'react'\n\ntype Props = Weak<PropsUIProgressBar>\n\nexport const ProgressBar = ({ percentage }: Props): JSX.Element => {\n  return (\n    <div id='progress' className='relative w-full overflow-hidden rounded-full'>\n      <div className='flex flex-row items-center gap-4'>\n        <div className='flex-grow h-4 bg-primarylight' />\n      </div>\n      <div className='absolute top-0 h-4 bg-primary' style={{ width: `${percentage}%` }} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { Translator } from '../../../../translator'\nimport { ReactFactoryContext } from '../../factory'\nimport { PropsUIPromptProgress } from '../../../../types/prompts'\nimport { ProgressBar } from '../elements/progress_bar'\n\ntype Props = Weak<PropsUIPromptProgress> & ReactFactoryContext\n\nexport const Progress = (props: Props): JSX.Element => {\n  const { resolve, percentage } = props\n  const { description, message } = prepareCopy(props)\n\n  function autoResolve (): void {\n    resolve?.({ __type__: 'PayloadTrue', value: true })\n  }\n\n  // No user action possible, resolve directly to give control back to script\n  autoResolve()\n\n  return (\n    <>\n      <div className='flex flex-col gap-8'>\n        <div className='text-bodylarge font-body text-grey1 text-left'>\n          {description}\n        </div>\n        <div className='p-6 border-grey4 border-2 rounded flex flex-col gap-4'>\n          {percentage !== undefined && <ProgressBar percentage={percentage} />}\n          <div className='flex-wrap text-bodylarge font-body text-grey2 text-left truncate'>\n            {message}\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\ninterface Copy {\n  description: string\n  message: string\n}\n\nfunction prepareCopy ({ description, message, locale }: Props): Copy {\n  return {\n    description: Translator.translate(description, locale),\n    message: message\n  }\n}\n","import { Weak } from '../../../../helpers'\nimport { ReactFactoryContext } from '../../factory'\nimport { PropsUIPromptConfirm } from '../../../../types/prompts'\nimport { Translator } from '../../../../translator'\nimport { BodyLarge } from '../elements/text'\nimport { PrimaryButton } from '../elements/button'\nimport { JSX } from 'react'\nimport React from 'react'\n\ntype Props = Weak<PropsUIPromptConfirm> & ReactFactoryContext\n\nexport const Confirm = (props: Props): JSX.Element => {\n  const { resolve } = props\n  const { text, ok, cancel } = prepareCopy(props)\n\n  function handleOk (): void {\n    resolve?.({ __type__: 'PayloadTrue', value: true })\n  }\n\n  function handleCancel (): void {\n    resolve?.({ __type__: 'PayloadFalse', value: false })\n  }\n\n  return (\n    <>\n      <BodyLarge text={text} margin='mb-4' />\n      <div className='flex flex-row gap-4'>\n        <PrimaryButton label={ok} onClick={handleOk} color='text-grey1 bg-tertiary' />\n        <PrimaryButton label={cancel} onClick={handleCancel} color='text-white bg-primary' />\n      </div>\n    </>\n  )\n}\n\ninterface Copy {\n  text: string\n  ok: string\n  cancel: string\n}\n\nfunction prepareCopy ({ text, ok, cancel, locale }: Props): Copy {\n  return {\n    text: Translator.translate(text, locale),\n    ok: Translator.translate(ok, locale),\n    cancel: Translator.translate(cancel, locale)\n  }\n}\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2211%22%20stroke%3D%22%23CCCCCC%22%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E\"","import { PropsUIRadioItem } from \"../../../../types/elements\";\nimport RadioSvg from \"../../../../../assets/images/radio.svg\";\nimport RadioActiveSvg from \"../../../../../assets/images/radio_active.svg\";\nimport { JSX } from \"react\";\nimport React from \"react\";\n\nexport const RadioItem = ({\n  id,\n  value,\n  selected,\n  onSelect,\n}: PropsUIRadioItem): JSX.Element => {\n  return (\n    <div\n      id={`${id}`}\n      data-testid={`radio-${id}`}\n      className=\"radio-item flex flex-row gap-3 items-center cursor-pointer\"\n      onClick={onSelect}\n      role=\"checkbox\"\n      aria-checked={selected ? \"true\" : \"false\"}\n    >\n      <div>\n        <img\n          src={RadioSvg}\n          id={`${id}-off`}\n          className={selected ? \"hidden\" : \"\"}\n        />\n        <img\n          src={RadioActiveSvg}\n          id={`${id}-on`}\n          className={selected ? \"\" : \"hidden\"}\n        />\n      </div>\n      <div className=\"text-grey1 text-label font-label select-none mt-1\">\n        {value}\n      </div>\n    </div>\n  );\n};\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2211%22%20stroke%3D%22%234272EF%22%20stroke-width%3D%222%22%2F%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%226%22%20fill%3D%22%234272EF%22%2F%3E%3C%2Fsvg%3E\"","import * as React from \"react\";\nimport { Weak } from \"../../../../helpers\";\nimport { PropsUIRadioItem, Translatable } from \"../../../../types/elements\";\nimport TextBundle from \"../../../../text_bundle\";\nimport { Translator } from \"../../../../translator\";\nimport { ReactFactoryContext } from \"../../factory\";\nimport { PropsUIPromptRadioInput } from \"../../../../types/prompts\";\nimport { RadioItem } from \"../elements/radio_item\";\nimport { PrimaryButton } from \"../elements/button\";\nimport { JSX } from \"react\";\n\ninterface Copy {\n  title: string;\n  description: string;\n  continueButton: string;\n}\n\ntype Props = Weak<PropsUIPromptRadioInput> & ReactFactoryContext;\n\nfunction prepareCopy({ title, description, locale }: Props): Copy {\n  return {\n    title: Translator.translate(title, locale),\n    description: Translator.translate(description, locale),\n    continueButton: Translator.translate(continueButtonLabel(), locale),\n  };\n}\n\nexport const RadioInput = (props: Props): JSX.Element => {\n  const [selectedId, setSelectedId] = React.useState<number>(-1);\n  const [waiting, setWaiting] = React.useState<boolean>(false);\n  const [checked, setChecked] = React.useState<boolean>(false);\n\n  const { items, resolve } = props;\n  const { title, description, continueButton } = prepareCopy(props);\n\n  function handleSelect(id: number): void {\n    setSelectedId(id);\n    setChecked(true);\n  }\n\n  function handleConfirm(): void {\n    if (!waiting) {\n      setWaiting(true);\n      const item = items.at(selectedId);\n      if (item !== undefined) {\n        resolve?.({ __type__: \"PayloadString\", value: item.value });\n      }\n    }\n  }\n\n  function renderItems(items: PropsUIRadioItem[]): JSX.Element[] {\n    return items.map((item, index) => (\n      <RadioItem\n        key={index}\n        onSelect={() => handleSelect(index)}\n        id={index}\n        value={item.value}\n        selected={selectedId === index}\n      />\n    ));\n  }\n\n  return (\n    <>\n      <div className=\"text-title5 font-title5 sm:text-title4 sm:font-title4 lg:text-title3 lg:font-title3 text-grey1\">\n        {title}\n      </div>\n      <div className=\"mt-8\" />\n      <div id=\"select-panel\">\n        <div className=\"flex-wrap text-bodylarge font-body text-grey1 text-left\">\n          {description}\n        </div>\n        <div className=\"mt-4\" />\n        <div>\n          <div id=\"radio-group\" className=\"flex flex-col gap-3\">\n            {renderItems(items)}\n          </div>\n        </div>\n      </div>\n      <div className=\"mt-8\" />\n      <div className={`flex flex-row gap-4 ${checked ? \"\" : \"opacity-30\"}`}>\n        <PrimaryButton\n          label={continueButton}\n          onClick={handleConfirm}\n          enabled={checked}\n          spinning={waiting}\n        />\n      </div>\n    </>\n  );\n};\n\nconst continueButtonLabel = (): Translatable => {\n  return new TextBundle().add(\"en\", \"Continue\").add(\"nl\", \"Doorgaan\");\n};\n","import { PropsUICheckBox } from \"../../../../types/elements\";\nimport CheckSvg from \"../../../../../assets/images/check.svg\";\nimport CheckActiveSvg from \"../../../../../assets/images/check_active.svg\";\nimport { JSX } from \"react\";\nimport React from \"react\";\n\nexport const CheckBox = ({\n  id,\n  selected,\n  onSelect,\n}: PropsUICheckBox): JSX.Element => {\n  return (\n    <div\n      id={id}\n      className=\"radio-item flex flex-row gap-3 items-center cursor-pointer\"\n      onClick={onSelect}\n      role=\"checkbox\"\n      aria-checked={selected ? \"true\" : \"false\"}\n    >\n      <div className=\"flex-shrink-0\">\n        <img\n          src={CheckSvg}\n          id={`${id}-off`}\n          className={selected ? \"hidden\" : \"\"}\n        />\n        <img\n          src={CheckActiveSvg}\n          id={`${id}-on`}\n          className={selected ? \"\" : \"hidden\"}\n        />\n      </div>\n    </div>\n  );\n};\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20x%3D%221%22%20y%3D%221%22%20width%3D%2222%22%20height%3D%2222%22%20rx%3D%223%22%20stroke%3D%22%23CCCCCC%22%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%204C0%201.79086%201.79086%200%204%200H20C22.2091%200%2024%201.79086%2024%204V20C24%2022.2091%2022.2091%2024%2020%2024H4C1.79086%2024%200%2022.2091%200%2020V4Z%22%20fill%3D%22%234272EF%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M9.59985%2018L3.59985%2012.2308L5.27985%2010.6154L9.59985%2014.7692L18.7199%206L20.3999%207.61538L9.59985%2018Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E\"","import { JSX, useMemo } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { PropsUISearchBar } from '../../../../types/elements'\nimport _ from 'lodash'\nimport React from 'react'\n\nexport const SearchBar = ({ placeholder, debounce = 1000, onSearch }: Weak<PropsUISearchBar>): JSX.Element => {\n  function handleKeyPress (event: React.KeyboardEvent<HTMLInputElement>): void {\n    if (event.key === 'Enter') {\n      event.preventDefault()\n    }\n  }\n\n  function handleChange (event: React.ChangeEvent<HTMLInputElement>): void {\n    const words = event.target.value.split(/\\s+/)\n    onSearch(words)\n  }\n\n  const handleChangeDebounced = useMemo(() => _.debounce(handleChange, 300), [])\n\n  return (\n    <form>\n      <div className='flex flex-row'>\n        <input\n          className='text-grey1 text-bodymedium font-body pl-3 pr-3 w-full border-2 border-solid border-grey3 focus:outline-none focus:border-primary rounded h-48px'\n          placeholder={placeholder}\n          name='query'\n          type='search'\n          onChange={handleChangeDebounced}\n          onKeyPress={handleKeyPress}\n        />\n      </div>\n    </form>\n  )\n}\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4%2021H14.087C17.7826%2021%2021%2018.375%2021%2014C21%209.625%2017.7826%207%2014.087%207H7.69565%22%20stroke%3D%22%234272EF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%2F%3E%3Cpath%20d%3D%22M10%203L6%207L10%2011%22%20stroke%3D%22%234272EF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M5.5%207L6.5%2021H17.5L18.5%207%22%20stroke%3D%22%23DB1E1E%22%20stroke-width%3D%222%22%2F%3E%3Cmask%20id%3D%22path-2-inside-1_1050_57%22%20fill%3D%22white%22%3E%3Crect%20x%3D%222%22%20y%3D%223%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%2F%3E%3C%2Fmask%3E%3Crect%20x%3D%222%22%20y%3D%223%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20stroke%3D%22%23DB1E1E%22%20stroke-width%3D%224%22%20mask%3D%22url%28%23path-2-inside-1_1050_57%29%22%2F%3E%3Cmask%20id%3D%22path-3-inside-2_1050_57%22%20fill%3D%22white%22%3E%3Cpath%20d%3D%22M9%202C9%201.44772%209.44772%201%2010%201H14C14.5523%201%2015%201.44772%2015%202V4H9V2Z%22%2F%3E%3C%2Fmask%3E%3Cpath%20d%3D%22M9%202C9%201.44772%209.44772%201%2010%201H14C14.5523%201%2015%201.44772%2015%202V4H9V2Z%22%20stroke%3D%22%23DB1E1E%22%20stroke-width%3D%223%22%20stroke-linejoin%3D%22round%22%20mask%3D%22url%28%23path-3-inside-2_1050_57%29%22%2F%3E%3C%2Fsvg%3E\"","import React from \"react\"\nimport { JSX } from \"react\"\n\ninterface PropsUIPageIcon {\n  index: number\n  selected: boolean\n  onClick: () => void\n}\n\ntype Props = PropsUIPageIcon\n\nexport const PageIcon = ({ index, selected, onClick }: Props): JSX.Element => {\n  function width (): string {\n    if (index > 999) return 'w-10'\n    if (index > 99) return 'w-9'\n    return 'w-8'\n  }\n\n  return (\n    <div className={`rounded ${width()} h-8 cursor-pointer flex-shrink-0 overflow-hidden ${selected ? 'bg-primary' : 'bg-grey5 '}`} onClick={onClick}>\n      <div className='flex flex-row items-center justify-center w-full h-full'>\n        <div className={`text-label font-label ${selected ? 'text-white' : 'text-grey2'}`}>\n          {`${index}`}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import _ from 'lodash'\nimport React, { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { PropsUIPagination } from '../../../../types/elements'\nimport { BackIconButton, ForwardIconButton } from './button'\nimport { PageIcon } from './page_icon'\n\ntype Props = Weak<PropsUIPagination> & PaginationContext\n\nexport interface PaginationContext {\n  onChange: (page: number) => void\n}\n\nexport const Pagination = ({ pageCount, page, pageWindowLegSize, onChange }: Props): JSX.Element => {\n  const pageWindow = updatePageWindow(pageCount, page)\n\n  function renderPageIcons (): JSX.Element {\n    return (\n      <div className='flex flex-row gap-2'>\n        {pageWindow.map((page) => renderPageIcon(page))}\n      </div>\n    )\n  }\n\n  function renderPageIcon (index: number): JSX.Element {\n    return (\n      <PageIcon\n        key={`page-${index}`}\n        index={index + 1}\n        selected={page === index}\n        onClick={() => handleNewPage(index)}\n      />\n    )\n  }\n\n  function handleNewPage (page: number): void {\n    onChange(page)\n  }\n\n  function handlePrevious (): void {\n    const previousPage = page === 0 ? pageCount - 1 : page - 1\n    onChange(previousPage)\n  }\n\n  function handleNext (): void {\n    const nextPage = page === pageCount - 1 ? 0 : page + 1\n    onChange(nextPage)\n  }\n\n  function updatePageWindow (pageCount: number, currentPage: number): number[] {\n    const pageWindowSize = pageWindowLegSize * 2 + 1\n\n    let range: number[] = []\n    if (pageWindowSize >= pageCount && pageCount > 0) {\n      range = _.range(0, Math.min(pageCount, pageWindowSize))\n    } else if (pageWindowSize < pageCount) {\n      const maxIndex = pageCount - 1\n\n      let start: number\n      let end: number\n\n      if (currentPage < pageWindowLegSize) {\n        // begin\n        start = 0\n        end = Math.min(pageCount, pageWindowSize)\n      } else if (maxIndex - currentPage <= pageWindowLegSize) {\n        // end\n        start = maxIndex - (pageWindowSize - 1)\n        end = maxIndex + 1\n      } else {\n        // middle\n        start = currentPage - pageWindowLegSize\n        end = currentPage + pageWindowLegSize + 1\n      }\n      range = _.range(start, end)\n    }\n\n    return range\n  }\n\n  return (\n    <div className='flex flex-row items-center gap-2 mt-2'>\n      <div className='flex-grow' />\n      <BackIconButton onClick={handlePrevious} />\n      <div>{renderPageIcons()}</div>\n      <ForwardIconButton onClick={handleNext} />\n      <div className='flex-grow' />\n    </div>\n  )\n}\n","import React, { JSX } from 'react'\nimport { PropsUITablePage, PropsUITableRow, PropsUITableHead, PropsUITableCell } from '../../../../types/elements'\nimport { Weak } from '../../../../helpers'\nimport { CheckBox } from './check_box'\nimport TextBundle from '../../../../text_bundle'\nimport { Translator } from '../../../../translator'\n\ntype Props = Weak<PropsUITablePage> & TableContext\n\nexport interface TableContext {\n  id: string\n  edit: boolean\n  selected: string[]\n  locale: string\n  onChange: (selected: string[]) => void\n}\n\nexport const TablePage = ({ head, rows, id, edit, selected, locale, onChange }: Props): JSX.Element => {\n  const copy = prepareCopy(locale)\n\n  function renderHeadRow (props: Weak<PropsUITableHead>): JSX.Element {\n    return (\n      <tr>\n        {edit ? renderHeadCheck() : ''}\n        {props.cells.map((cell, index) => renderHeadCell(cell, index))}\n      </tr>\n    )\n  }\n\n  function renderHeadCheck (): JSX.Element {\n    const headSelected = selected.length > 0 && selected.length === rows.length\n    return (\n      <td key='check-head' className='pl-4 w-10'>\n        <CheckBox id='-1' selected={headSelected} onSelect={() => handleSelectHead()} />\n      </td>\n    )\n  }\n\n  function renderHeadCell (props: Weak<PropsUITableCell>, index: number): JSX.Element {\n    return (\n      <th key={`${index}`} className='h-12 px-4 text-left'>\n        <div className='font-table-header text-table text-grey1'>{props.text}</div>\n      </th>\n    )\n  }\n\n  function renderRows (): JSX.Element[] {\n    return rows.map((row, index) => renderRow(row, index))\n  }\n\n  function renderRow (row: PropsUITableRow, rowIndex: number): JSX.Element {\n    return (\n      <tr key={`${rowIndex}`} className='hover:bg-grey6'>\n        {edit ? renderRowCheck(row.id) : ''}\n        {row.cells.map((cell, cellIndex) => renderRowCell(cell, cellIndex))}\n      </tr>\n    )\n  }\n\n  function renderRowCheck (rowId: string): JSX.Element {\n    const rowSelected = selected.includes(rowId)\n    return (\n      <td key={`check-${rowId}`} className='pl-4'>\n        <CheckBox id={rowId} selected={rowSelected} onSelect={() => handleSelectRow(rowId)} />\n      </td>\n    )\n  }\n\n  function renderRowCell ({ text }: Weak<PropsUITableCell>, cellIndex: number): JSX.Element {\n    const body = isValidHttpUrl(text) ? renderRowLink(text) : renderRowText(text)\n\n    return (\n      <td key={`${cellIndex}`} className='h-12 px-4'>\n        {body}\n      </td>\n    )\n  }\n\n  function renderRowText (text: string): JSX.Element {\n    return <div className='font-table-row text-table text-grey1'>{text}</div>\n  }\n\n  function renderRowLink (href: string): JSX.Element {\n    return (\n      <div className='font-table-row text-table text-primary underline'>\n        <a href={href} target='_blank' rel='noreferrer' title={href}>{copy.link}</a>\n      </div>\n    )\n  }\n\n  function isValidHttpUrl (value: string): boolean {\n    let url\n    try {\n      url = new URL(value)\n    } catch (_) {\n      return false\n    }\n    return url.protocol === 'http:' || url.protocol === 'https:'\n  }\n\n  function handleSelectHead (): void {\n    const allRowsSelected = selected.length === rows.length\n    if (allRowsSelected) {\n      handleSelectNone()\n    } else {\n      handleSelectAll()\n    }\n  }\n\n  function handleSelectRow (rowId: string): void {\n    const newSelected = selected.slice(0)\n    const index = newSelected.indexOf(rowId)\n    if (index === -1) {\n      newSelected.push(rowId)\n    } else {\n      newSelected.splice(index, 1)\n    }\n\n    onChange(newSelected)\n  }\n\n  function handleSelectAll (): void {\n    const newSelected = rows.map((row) => row.id)\n    onChange(newSelected)\n  }\n\n  function handleSelectNone (): void {\n    onChange([])\n  }\n\n  function prepareCopy (locale: string): Copy {\n    return {\n      link: Translator.translate(link, locale)\n    }\n  }\n\n  return (\n    <table data-testid={`table-${id}`} className='text-grey1 table-fixed divide-y divide-grey4'>\n      <thead>\n        {renderHeadRow(head)}\n      </thead>\n      <tbody className='divide-y divide-grey4'>\n        {renderRows()}\n      </tbody>\n    </table>\n  )\n}\n\ninterface Copy {\n  link: String\n}\n\nconst link = new TextBundle()\n  .add(\"en\", \"Visit URL\")\n  .add(\"de\", \"URL besuchen\")\n  .add(\"it\", \"Visita URL\")\n  .add(\"nl\", \"Bezoek URL\");\n","import React, { JSX } from 'react'\nimport { PropsUITableCardItem } from '../../../../types/elements'\nimport { Weak } from '../../../../helpers'\nimport TextBundle from '../../../../text_bundle'\nimport { Translator } from '../../../../translator'\n\ntype Props = Weak<PropsUITableCardItem> & TableCardItemContext\n\nexport interface TableCardItemContext {\n  locale: string\n}\n\nexport const TableCardItem = ({ title, description, locale }: Props): JSX.Element => {\n  const copy = prepareCopy(locale)\n\n  const body = isValidHttpUrl(description.text)\n    ? renderCardItemLink(description.text)\n    : renderCardItemText(description.text)\n\n  function renderCardItemText (text: string): JSX.Element {\n    return <div className='font-table-row text-table text-grey1'>{text}</div>\n  }\n\n  function renderCardItemLink (href: string): JSX.Element {\n    return (\n      <div className='font-table-row text-table text-primary underline'>\n        <a href={href} target='_blank' rel='noreferrer' title={href}>\n          {copy.link}\n        </a>\n      </div>\n    )\n  }\n\n  function isValidHttpUrl (value: string): boolean {\n    let url\n    try {\n      url = new URL(value)\n    } catch (_) {\n      return false\n    }\n    return url.protocol === 'http:' || url.protocol === 'https:'\n  }\n\n  function prepareCopy (locale: string): Copy {\n    return {\n      link: Translator.translate(link, locale)\n    }\n  }\n\n  return (\n    <div className='w-full flex flex-col items-left gap-2'>\n      <div className='font-card text-left text-card-key'>{title.text}</div>\n      <div className='font-card text-left text-card-value'>{body}</div>\n    </div>\n  )\n}\n\ninterface Copy {\n  link: String\n}\n\nconst link = new TextBundle()\n  .add(\"en\", \"Visit URL\")\n  .add(\"de\", \"URL besuchen\")\n  .add(\"it\", \"Visita URL\")\n  .add(\"nl\", \"Bezoek URL\");\n","import React, { JSX } from 'react'\nimport { PropsUITableCard } from '../../../../types/elements'\nimport { Weak } from '../../../../helpers'\nimport { IconButton } from './button'\nimport DeleteSvg from '../../../../../assets/images/delete.svg'\nimport { TableCardItem } from './table_card_item'\n\nexport interface TableCardContext {\n  locale: string\n  onDelete: (rowId: string) => void\n}\n\ntype Props = Weak<PropsUITableCard> & TableCardContext\n\nexport const TableCard = ({ row, headCells, locale, onDelete }: Props): JSX.Element => {\n  const cells = headCells.map((cell, cellIndex) => [cell, row.cells[cellIndex]])\n\n  return (\n    <div className='flex flex-row w-full p-4 border border-grey4 bg-white rounded-lg shadow-[0px_5px_20px_0px_rgba(0,0,0,0.10)] '>\n      <div className='w-full flex flex-col items-left gap-4'>\n        {cells.map(([title, description], index) => <TableCardItem title={title} description={description} locale={locale} key={`${index}`} />)}\n      </div>\n      <div className='flex-grow' />\n      <div className='flex-shrink-0'>\n        <IconButton icon={DeleteSvg} onClick={() => onDelete(row.id)} />\n      </div>\n    </div>\n  )\n}\n","import React, { JSX } from 'react'\nimport { PropsUITablePage } from '../../../../types/elements'\nimport { Weak } from '../../../../helpers'\nimport { TableCard } from './table_card'\n\ntype Props = Weak<PropsUITablePage> & TableContext\n\nexport interface TableContext {\n  locale: string\n  onDelete: (rowId: string) => void\n}\n\nexport const TableCards = ({ head, rows, locale, onDelete }: Props): JSX.Element => {\n  return (\n    <div className='flex flex-col gap-4 px-4'>\n      {rows.map((row, index) => <TableCard row={row} headCells={head.cells} locale={locale} onDelete={onDelete} key={`${index}`} />)}\n    </div>\n  )\n}\n","import React from 'react'\nimport { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport TextBundle from '../../../../text_bundle'\nimport { Translator } from '../../../../translator'\nimport { PropsUITable, PropsUITableRow } from '../../../../types/elements'\nimport { ReactFactoryContext } from '../../factory'\nimport { IconLabelButton } from './button'\nimport { CheckBox } from './check_box'\nimport { SearchBar } from './search_bar'\nimport { Caption, Label, Title3 } from './text'\nimport UndoSvg from '../../../../../assets/images/undo.svg'\nimport DeleteSvg from '../../../../../assets/images/delete.svg'\nimport { Pagination } from './pagination'\nimport { TablePage } from './table_page'\nimport { TableCards } from './table_cards'\ntype Props = Weak<PropsUITable> & TableContext & ReactFactoryContext\n\nexport interface TableContext {\n  id: string\n  onChange: (rows: PropsUITableRow[], deletedCount: number) => void\n}\n\ninterface Visibility {\n  undo: boolean\n  delete: boolean\n  table: boolean\n  noData: boolean\n  noDataLeft: boolean\n  noResults: boolean\n}\n\ninterface State {\n  edit: boolean\n  desktopPage: number\n  desktopPageCount: number\n  mobilePage: number\n  mobilePageCount: number\n  desktopRows: PropsUITableRow[]\n  mobileRows: PropsUITableRow[]\n  selected: string[]\n  deletedCount: number\n  visibility: Visibility\n}\n\nexport const Table = ({ id, head, body, readOnly = false, locale, onChange }: Props): JSX.Element => {\n  const query = React.useRef<string[]>([])\n  const alteredRows = React.useRef<PropsUITableRow[]>(body.rows)\n  const filteredRows = React.useRef<PropsUITableRow[]>(alteredRows.current)\n  const desktopPageSize = 7\n  const mobilePageSize = 1\n\n  const initialState: State = {\n    edit: false,\n    desktopPage: 0,\n    desktopPageCount: getPageCount(desktopPageSize),\n    desktopRows: updateRows(0, desktopPageSize),\n    mobilePage: 0,\n    mobilePageCount: getPageCount(mobilePageSize),\n    mobileRows: updateRows(0, mobilePageSize),\n    selected: [],\n    deletedCount: 0,\n    visibility: {\n      delete: false,\n      undo: false,\n      table: filteredRows.current.length > 0,\n      noData: filteredRows.current.length === 0,\n      noDataLeft: false,\n      noResults: false\n    }\n  }\n\n  const [state, setState] = React.useState<State>(initialState)\n\n  const copy = prepareCopy(locale)\n\n  function display (element: keyof Visibility): string {\n    return visible(element) ? '' : 'hidden'\n  }\n\n  function visible (element: keyof Visibility): boolean {\n    if (typeof state.visibility[element] === 'boolean') {\n      return state.visibility[element]\n    }\n    return false\n  }\n\n  function getPageCount (pageSize: number): number {\n    if (filteredRows.current.length === 0) {\n      return 0\n    }\n\n    return Math.ceil(filteredRows.current.length / pageSize)\n  }\n\n  function updateRows (currentPage: number, pageSize: number): PropsUITableRow[] {\n    const offset = currentPage * pageSize\n    return filteredRows.current.slice(offset, offset + pageSize)\n  }\n\n  function filterRows (): PropsUITableRow[] {\n    if (query.current.length === 0) {\n      return alteredRows.current\n    }\n    return alteredRows.current.filter((row) => matchRow(row, query.current))\n  }\n\n  function matchRow (row: PropsUITableRow, query: string[]): boolean {\n    const rowText = row.cells.map((cell) => cell.text).join(' ')\n    return query.find((word) => !rowText.includes(word)) === undefined\n  }\n\n  function handleSelectedChange (selected: string[]): void {\n    setState((state) => {\n      return { ...state, selected }\n    })\n  }\n\n  function handleDeleteRow (rowId: string): void {\n    deleteRows([rowId])\n  }\n\n  function handleDeleteSelected (): void {\n    const currentSelectedRows = state.selected.slice(0)\n    if (currentSelectedRows.length === 0) return\n\n    deleteRows(currentSelectedRows)\n  }\n\n  function deleteRows (rows: String[]): void {\n    const newAlteredRows = alteredRows.current.slice(0)\n\n    for (const rowId of rows) {\n      const index = newAlteredRows.findIndex((row) => row.id === rowId)\n      if (index !== -1) {\n        newAlteredRows.splice(index, 1)\n      }\n    }\n\n    alteredRows.current = newAlteredRows\n    filteredRows.current = filterRows()\n\n    setState((state) => {\n      const desktopPageCount = getPageCount(desktopPageSize)\n      const desktopPage = Math.max(0, Math.min(desktopPageCount - 1, state.desktopPage))\n      const desktopRows = updateRows(desktopPage, desktopPageSize)\n      const mobilePageCount = getPageCount(mobilePageSize)\n      const mobilePage = Math.max(0, Math.min(mobilePageCount - 1, state.mobilePage))\n      const mobileRows = updateRows(mobilePage, mobilePageSize)\n      const deletedCount = body.rows.length - alteredRows.current.length\n      const visibility = {\n        ...state.visibility,\n        undo: deletedCount > 0,\n        table: filteredRows.current.length > 0,\n        noData: false,\n        noDataLeft: alteredRows.current.length === 0,\n        noResults: alteredRows.current.length > 0 && filteredRows.current.length === 0\n      }\n      return { ...state, desktopPage, desktopPageCount, desktopRows, mobilePage, mobilePageCount, mobileRows, deletedCount, selected: [], visibility }\n    })\n\n    onChange(alteredRows.current, state.deletedCount)\n  }\n\n  function handleUndo (): void {\n    alteredRows.current = body.rows\n    filteredRows.current = filterRows()\n    setState((state) => {\n      const desktopPageCount = getPageCount(desktopPageSize)\n      const desktopPage = Math.min(desktopPageCount, state.desktopPage)\n      const desktopRows = updateRows(desktopPage, desktopPageSize)\n      const mobilePageCount = getPageCount(mobilePageSize)\n      const mobilePage = Math.min(mobilePageCount, state.mobilePage)\n      const mobileRows = updateRows(mobilePage, mobilePageSize)\n\n      const visibility = {\n        ...state.visibility,\n        undo: false,\n        table: filteredRows.current.length > 0,\n        noData: false,\n        noDataLeft: false,\n        noResults: filteredRows.current.length === 0\n      }\n      return { ...state, desktopPage, desktopPageCount, desktopRows, mobilePage, mobilePageCount, mobileRows, deletedCount: 0, selected: [], visibility }\n    })\n\n    onChange(body.rows, 0)\n  }\n\n  function handleSearch (newQuery: string[]): void {\n    query.current = newQuery\n    filteredRows.current = filterRows()\n    setState((state) => {\n      const desktopPageCount = getPageCount(desktopPageSize)\n      const desktopPage = Math.min(desktopPageCount, state.desktopPage)\n      const desktopRows = updateRows(desktopPage, desktopPageSize)\n      const mobilePageCount = getPageCount(mobilePageSize)\n      const mobilePage = Math.min(mobilePageCount, state.mobilePage)\n      const mobileRows = updateRows(mobilePage, mobilePageSize)\n      const visibility = {\n        ...state.visibility,\n        table: filteredRows.current.length > 0,\n        noData: body.rows.length === 0,\n        noDataLeft: body.rows.length > 0 && alteredRows.current.length === 0,\n        noResults: body.rows.length > 0 && alteredRows.current.length > 0 && filteredRows.current.length === 0\n      }\n      return { ...state, desktopPage, desktopPageCount, desktopRows, mobilePage, mobilePageCount, mobileRows, visibility }\n    })\n  }\n\n  function handleDesktopPageChange (page: number): void {\n    setState((state) => {\n      const desktopRows = updateRows(page, desktopPageSize)\n      return { ...state, desktopPage: page, desktopRows }\n    })\n  }\n\n  function handleMobilePageChange (page: number): void {\n    setState((state) => {\n      const mobileRows = updateRows(page, mobilePageSize)\n      return { ...state, mobilePage: page, mobileRows }\n    })\n  }\n\n  function handleEditToggle (): void {\n    setState((state) => {\n      const edit = !state.edit\n      const visibility = {\n        ...state.visibility,\n        delete: edit\n      }\n      return { ...state, edit, visibility }\n    })\n  }\n\n  return (\n    <>\n      <div className='flex flex-col gap-4'>\n        {/* Desktop header */}\n        <div className='hidden sm:block'>\n          <div className='flex flex-row gap-4 items-center'>\n            {/* Desktop pagination */}\n            <div className={`${body.rows.length <= desktopPageSize ? 'hidden' : ''} `}>\n              <Pagination pageCount={state.desktopPageCount} page={state.desktopPage} pageWindowLegSize={3} onChange={handleDesktopPageChange} />\n            </div>\n            <div className='flex-grow' />\n\n            {/* Desktop pages */}\n            <Caption text={copy.desktopPages} color='text-grey2' margin='' />\n\n            {/* Desktop search */}\n            <div>\n              <SearchBar placeholder={copy.searchPlaceholder} onSearch={(query) => handleSearch(query)} />\n            </div>\n          </div>\n        </div>\n\n        {/* Mobile header */}\n        <div className='block sm:hidden'>\n          <div className='flex flex-row gap-4'>\n            {/* Mobile search */}\n            <div className='w-full'>\n              <SearchBar placeholder={copy.searchPlaceholder} onSearch={(query) => handleSearch(query)} />\n            </div>\n          </div>\n        </div>\n\n        {/* Desktop body */}\n        {state.desktopRows.length > 0 && (\n          <div className='hidden sm:block'>\n            <div className={`flex flex-col ${display('table')}`}>\n              <TablePage head={head} rows={state.desktopRows} id={id} edit={state.edit} selected={state.selected} locale={locale} onChange={handleSelectedChange} />\n            </div>\n          </div>\n        )}\n\n        {/* Mobile body */}\n        {state.mobileRows.length > 0 && (\n          <div className='block sm:hidden'>\n            <TableCards head={head} rows={state.mobileRows} locale={locale} onDelete={handleDeleteRow} key={id} />\n          </div>\n        )}\n\n        {/* No data */}\n        <div className={`flex flex-col justify-center items-center w-full h-[200px] sm:h-table bg-grey6 ${display('noData')}`}>\n          <Title3 text={copy.noData} color='text-grey3' margin='' />\n        </div>\n\n        {/* No data left */}\n        <div className={`flex flex-col justify-center items-center w-full h-[200px] sm:h-table bg-grey6 ${display('noDataLeft')}`}>\n          <Title3 text={copy.noDataLeft} color='text-grey3' margin='' />\n        </div>\n\n        {/* No search results */}\n        <div className={`flex flex-col justify-center items-center w-full h-[200px] sm:h-table bg-grey6 ${display('noResults')}`}>\n          <Title3 text={copy.noResults} color='text-grey3' margin='' />\n        </div>\n\n        {/* Desktop footer */}\n        <div className='hidden sm:block'>\n          <div className={`flex flex-row items-center gap-6 mt-2 h-8 ${body.rows.length === 0 ? 'hidden' : ''} `}>\n            <div className='flex flex-row gap-4 items-center'>\n              <CheckBox id='edit' selected={state.edit} onSelect={handleEditToggle} />\n              <Label text={copy.edit} margin='mt-1px' />\n            </div>\n\n            {/* Delete selected */}\n            <div className={`${display('delete')} mt-1px`}>\n              <IconLabelButton label={copy.delete} color='text-delete' icon={DeleteSvg} onClick={handleDeleteSelected} />\n            </div>\n            <div className='flex-grow' />\n            {/* Number of deleted rows */}\n            <Label text={copy.deleted} />\n            {/* Undo button */}\n            <div className={`${display('undo')}`}>\n              <IconLabelButton label={copy.undo} color='text-primary' icon={UndoSvg} onClick={handleUndo} />\n            </div>\n          </div>\n        </div>\n\n        {/* Mobile footer */}\n        <div className='block sm:hidden'>\n          <div className='flex flex-col gap-4'>\n            {state.deletedCount > 0 &&\n              <div className='flex flex-row gap-4 items-center'>\n                {/* Number of deleted rows */}\n                <Label text={copy.deleted} />\n                <div className='flex-grow' />\n                {/* Undo button */}\n                <div className={`${display('undo')}`}>\n                  <IconLabelButton label={copy.undo} color='text-primary' icon={UndoSvg} onClick={handleUndo} />\n                </div>\n              </div>}\n\n            <div className='flex flex-col gap-4 items-center'>\n              {/* Mobile pagination */}\n              <div className={`${body.rows.length <= mobilePageSize ? 'hidden' : ''} `}>\n                <Pagination pageCount={state.mobilePageCount} page={state.mobilePage} pageWindowLegSize={2} onChange={handleMobilePageChange} />\n              </div>\n              {/* Number of pages */}\n              <Caption text={copy.mobilePages} color='text-grey2' margin='' />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n\n  function prepareCopy (locale: string): Copy {\n    return {\n      edit: Translator.translate(editLabel, locale),\n      undo: Translator.translate(undoLabel, locale),\n      noData: Translator.translate(noDataLabel, locale),\n      noDataLeft: Translator.translate(noDataLeftLabel, locale),\n      noResults: Translator.translate(noResultsLabel, locale),\n      desktopPages: Translator.translate(pagesLabel(state.desktopPageCount), locale),\n      mobilePages: Translator.translate(pagesLabel(state.mobilePageCount), locale),\n      delete: Translator.translate(deleteLabel, locale),\n      deleted: Translator.translate(deletedLabel(body.rows.length - alteredRows.current.length), locale),\n      searchPlaceholder: Translator.translate(searchPlaceholder, locale)\n    }\n  }\n}\n\ninterface Copy {\n  edit: string\n  undo: string\n  noData: string\n  noDataLeft: string\n  noResults: string\n  desktopPages: string\n  mobilePages: string\n  delete: string\n  deleted: string\n  searchPlaceholder: string\n}\n\nconst searchPlaceholder = new TextBundle()\n  .add(\"en\", \"Search\")\n  .add(\"de\", \"Suchen\")\n  .add(\"it\", \"Cerca\")\n  .add(\"nl\", \"Zoeken\");\n\nconst noDataLabel = new TextBundle()\n  .add(\"en\", \"No data found\")\n  .add(\"de\", \"Keine Daten gefunden\")\n  .add(\"it\", \"Nessun dato trovato\")\n  .add(\"nl\", \"Geen gegevens gevonden\");\n\nconst noDataLeftLabel = new TextBundle()\n  .add(\"en\", \"All data removed\")\n  .add(\"de\", \"Alle Daten gelöscht\")\n  .add(\"it\", \"Tutti i dati rimossi\")\n  .add(\"nl\", \"Alle gegevens verwijderd\");\n\nconst noResultsLabel = new TextBundle()\n  .add(\"en\", \"No search results\")\n  .add(\"de\", \"Keine Suchergebnisse\")\n  .add(\"it\", \"Nessun risultato di ricerca\")\n  .add(\"nl\", \"Geen zoek resultaten\");\n\nconst editLabel = new TextBundle()\n  .add(\"en\", \"Adjust\")\n  .add(\"de\", \"Anpassen\")\n  .add(\"it\", \"Regola\")\n  .add(\"nl\", \"Aanpassen\");\n\nconst undoLabel = new TextBundle()\n  .add(\"en\", \"Undo\")\n  .add(\"de\", \"Rückgängig machen\")\n  .add(\"it\", \"Annulla\")\n  .add(\"nl\", \"Ongedaan maken\");\n\nconst deleteLabel = new TextBundle()\n  .add(\"en\", \"Delete selected\")\n  .add(\"de\", \"Auswahl löschen\")\n  .add(\"it\", \"Elimina selezione\")\n  .add(\"nl\", \"Verwijder selectie\");\n\nfunction deletedNoneRowLabel(): TextBundle {\n  return new TextBundle()\n    .add(\"en\", \"No adjustments\")\n    .add(\"de\", \"Keine Anpassungen\")\n    .add(\"it\", \"Nessuna modifica\")\n    .add(\"nl\", \"Geen aanpassingen\");\n}\n\nfunction deletedRowLabel(amount: number): TextBundle {\n  return new TextBundle()\n    .add(\"en\", `${amount} row deleted`)\n    .add(\"de\", `${amount} Zeile gelöscht`)\n    .add(\"it\", `${amount} Riga eliminata`)\n    .add(\"nl\", `${amount} rij verwijderd`);\n}\n\nfunction deletedRowsLabel(amount: number): TextBundle {\n  return new TextBundle()\n    .add(\"en\", `${amount} rows deleted`)\n    .add(\"de\", `${amount} Zeilen gelöscht`)\n    .add(\"it\", `${amount} Righe eliminate`)\n    .add(\"nl\", `${amount} rijen verwijderd`);\n}\n\nfunction deletedLabel(amount: number): TextBundle {\n  if (amount === 0) return deletedNoneRowLabel();\n  if (amount === 1) return deletedRowLabel(amount);\n  return deletedRowsLabel(amount);\n}\n\nfunction singlePageLabel(): TextBundle {\n  return new TextBundle()\n    .add(\"en\", \"1 page\")\n    .add(\"de\", \"1 Seite\")\n    .add(\"it\", \"1 pagina\")\n    .add(\"nl\", \"1 pagina\");\n}\n\nfunction multiplePagesLabel(amount: number): TextBundle {\n  return new TextBundle()\n    .add(\"en\", `${amount} pages`)\n    .add(\"de\", `${amount} Seiten`)\n    .add(\"it\", `${amount} pagine`)\n    .add(\"nl\", `${amount} pagina's`);\n}\n\nfunction pagesLabel (amount: number): TextBundle {\n  if (amount === 1) return singlePageLabel()\n  return multiplePagesLabel(amount)\n}\n","import React from 'react'\nimport { JSX } from 'react'\nimport { PropsUINumberIcon } from '../../../../types/elements'\n\ntype Props = PropsUINumberIcon\n\nexport const NumberIcon = ({ number }: Props): JSX.Element => {\n  function centerCorrection (number: number): string {\n    switch (number) {\n      case 1:\n        return 'mr-1px'\n      case 4:\n        return 'mr-1px'\n      default:\n        return ''\n    }\n  }\n\n  return (\n    <div className={`flex-shrink-0 icon w-6 h-6 font-caption text-caption text-white bg-primary rounded-full flex items-center ${centerCorrection(number)}`}>\n      <span className='text-center w-full mt-1px'>{number}</span>\n    </div>\n  )\n}\n","import {\n  PropsUITable,\n  PropsUITableHead,\n  PropsUITableRow,\n} from \"../../../../types/elements\";\nimport { Table } from \"../elements/table\";\nimport { BodyLarge, Title4 } from \"../elements/text\";\nimport React, {\n  JSX,\n  forwardRef,\n  useImperativeHandle,\n  MutableRefObject,\n} from \"react\";\nimport {\n  DataSubmissionData,\n  DataSubmissionProvider,\n} from \"../../../../types/data_submission\";\nimport _ from \"lodash\";\nimport { PromptContext } from \"./factory\";\nimport { NumberIcon } from '../elements/number_icon'\n\ninterface Props {\n  table: PropsUITable & {\n    number: number;\n    title: string;\n    description?: string;\n    deletedRowCount: number;\n  };\n  readOnly?: boolean;\n  context: PromptContext;\n  onChange: (id: string, rows: PropsUITableRow[]) => void;\n}\n\nexport interface ConsentTableHandle extends DataSubmissionProvider {}\n\nexport const ConsentTable = forwardRef<ConsentTableHandle | null, Props>(\n  ({ table, readOnly = false, context, onChange }, ref): JSX.Element => {\n    const [currentTable, setCurrentTable] = React.useState<\n      PropsUITable & {\n        number: number;\n        title: string;\n        description?: string;\n        deletedRowCount: number;\n      }\n    >(table);\n\n    const handleChange = (rows: PropsUITableRow[], deletedCount: number) => {\n      context.onDataSubmissionDataChanged(\n        table.id,\n        getDataSubmissionData(table.head, rows, deletedCount)\n      );\n    };\n\n    React.useEffect(() => {\n      console.log(\"ConsentTable useEffect\", currentTable);\n      context.onDataSubmissionDataChanged(\n        table.id,\n        getDataSubmissionData(table.head, table.body.rows, 0)\n      );\n    }, []);\n\n    return (\n      <div key={table.id} className='flex flex-col gap-4 mb-20'>\n        <div className='flex flex-row gap-4 items-center'>\n          <NumberIcon number={table.number} />\n          <div className='pt-2px'>\n            <Title4 text={table.title} margin='' />\n          </div>\n        </div>\n        <Table {...table} readOnly={readOnly} locale={context.locale} onChange={handleChange} id={table.id} key={table.id} />\n      </div>\n    );\n  }\n);\n\nfunction getDataSubmissionData(\n  head: PropsUITableHead,\n  rows: PropsUITableRow[],\n  deletedRowCount: number\n): DataSubmissionData {\n  return {\n    data: serializeTableData(head, rows),\n    metadata: {\n      deletedRowCount,\n    },\n  };\n}\n\nfunction serializeTableData(\n  head: PropsUITableHead,\n  rows: PropsUITableRow[]\n): any[] {\n  return rows.map((row) => serializeRow(row, head));\n}\n\nfunction serializeRow(row: PropsUITableRow, head: PropsUITableHead): any {\n  const keys = head.cells.map((cell) => cell.text);\n  const values = row.cells.map((cell) => cell.text);\n  return _.fromPairs(_.zip(keys, values));\n}\n\nConsentTable.displayName = \"ConsentTable\";\n","import React, { JSX, useCallback, useState } from \"react\";\nimport { LabelButton, PrimaryButton } from \"../elements/button\";\nimport { BodyLarge } from \"../elements/text\";\nimport TextBundle from \"../../../../text_bundle\";\nimport { Translator } from \"../../../../translator\";\nimport { Text } from \"../../../../types/elements\";\n\ninterface Props {\n  onDonate: () => void;\n  onCancel: () => void;\n  locale: string;\n  donateQuestion?: Text;\n  donateButton?: Text;\n}\n\nexport const DonateButtons = ({ onDonate, onCancel, locale, donateQuestion, donateButton }: Props): JSX.Element => {\n    const [waiting, setWaiting] = useState(false);\n    \n    const handleDonate = useCallback(() => {\n        setWaiting(true);\n        onDonate();\n    }, [onDonate, setWaiting]);\n\n  return (\n    <div>\n      <BodyLarge\n        margin=\"\"\n        text={Translator.translate(\n          donateQuestion ?? donateQuestionLabel,\n          locale\n        )}\n      />\n      <div className=\"flex flex-row gap-4 mt-4 mb-4\">\n        <PrimaryButton\n          label={Translator.translate(\n            donateButton ?? donateButtonLabel,\n            locale\n          )}\n          onClick={handleDonate}\n          color=\"bg-success text-white\"\n          spinning={waiting}\n        />\n        <LabelButton\n          label={Translator.translate(cancelButtonLabel, locale)}\n          onClick={onCancel}\n          color=\"text-grey1\"\n        />\n      </div>\n    </div>\n  );\n};\n\nconst donateQuestionLabel = new TextBundle()\n  .add(\"en\", \"Do you want to donate the above data?\")\n  .add(\"nl\", \"Wilt u de bovenstaande gegevens doneren?\");\n\nconst donateButtonLabel = new TextBundle()\n  .add(\"en\", \"Yes, donate\")\n  .add(\"nl\", \"Ja, doneer\");\n\nconst cancelButtonLabel = new TextBundle()\n  .add(\"en\", \"No\")\n  .add(\"nl\", \"Nee\");","import * as React from 'react'\nimport { JSX } from 'react'\nimport { Weak } from '../../../../helpers'\nimport { Translatable } from '../../../../types/elements'\nimport { PropsUIPromptText } from '../../../../types/prompts'\nimport TextBundle from '../../../../text_bundle'\nimport { Translator } from '../../../../translator'\nimport { ReactFactoryContext } from '../../factory'\nimport { BodyLarge, Title3 } from '../elements/text'\n\ntype Props = Weak<PropsUIPromptText> & ReactFactoryContext\n\ninterface Copy {\n  text: string\n  title?: string\n}\n\nexport const TextBlock = (props: Props): JSX.Element => {\n  const { text, title } = prepareCopy(props)\n\n  return (\n    <>\n      <div className='my-8'>\n        {title && (\n          <>\n            <Title3 text={title} margin='mb-4' />\n          </>\n        )}\n        <BodyLarge text={text} margin='' />\n      </div>\n    </>\n  )\n}\n\nfunction prepareCopy ({ text, title, locale }: Props): Copy {\n  return {\n    text: Translator.translate(text, locale),\n    title: title ? Translator.translate(title, locale) : undefined\n  }\n}","import React, { JSX } from 'react'\nimport { ReactFactoryContext } from '../../factory'\nimport { \n  PropsUIPromptFileInput,\n  PropsUIPromptProgress,\n  PropsUIPromptConfirm,\n  PropsUIPromptConsentForm,\n  PropsUIPromptRadioInput,\n  isPropsUIPromptFileInput,\n  isPropsUIPromptProgress,\n  isPropsUIPromptConfirm,\n  isPropsUIPromptConsentForm,\n  isPropsUIPromptRadioInput,\n  PropsUIPromptConsentFormTable,\n  isPropsUIPromptConsentFormTable,\n  PropsUIDataSubmissionButtons,\n  isPropsUIDataSubmissionButtons,\n  PropsUIPromptText,\n  isPropsUIPromptText\n} from '../../../../types/prompts'\nimport { Translatable, PropsUITable } from '../../../../types/elements'\nimport TextBundle from '../../../../text_bundle'\nimport { Translator } from '../../../../translator'\nimport { FileInput } from './file_input'\nimport { Progress } from './progress'\nimport { Confirm } from './confirm'\nimport { RadioInput } from './radio_input'\nimport { ConsentTable } from './consent_table'\nimport { DonateButtons } from './donate_buttons'\nimport { TextBlock } from './text_block'\n\nexport interface PromptContext extends ReactFactoryContext {\n  onDataSubmissionDataChanged: (key: string, value: any) => void\n  onDonate: () => void\n}\n\nexport interface PromptFactory {\n  create: (body: unknown, context: PromptContext) => JSX.Element | null\n}\n\n// Helper function to convert Python Text to TypeScript Translatable\nfunction toTranslatable(text: any): Translatable | undefined {\n  if (!text) return undefined;\n  const bundle = new TextBundle();\n  Object.entries(text).forEach(([locale, value]) => {\n    bundle.add(locale, value as string);\n  });\n  return bundle;\n}\n\nexport class FileInputFactory implements PromptFactory {\n  create(body: unknown, context: ReactFactoryContext): JSX.Element | null {\n    if (isPropsUIPromptFileInput(body)) {\n      return React.createElement(FileInput, { ...body, ...context });\n    }\n    return null\n  }\n}\n\nexport class ProgressFactory implements PromptFactory {\n  create(body: unknown, context: ReactFactoryContext): JSX.Element | null {\n    if (isPropsUIPromptProgress(body)) {\n      return React.createElement(Progress, { ...body, ...context });\n    }\n    return null\n  }\n}\n\nexport class ConfirmFactory implements PromptFactory {\n  create(body: unknown, context: ReactFactoryContext): JSX.Element | null {\n    if (isPropsUIPromptConfirm(body)) {\n      return React.createElement(Confirm, { ...body, ...context });\n    }\n    return null\n  }\n}\n\nexport class RadioInputFactory implements PromptFactory {\n  create(body: unknown, context: ReactFactoryContext): JSX.Element | null {\n    if (isPropsUIPromptRadioInput(body)) {\n      return React.createElement(RadioInput, { ...body, ...context });\n    }\n    return null\n  }\n}\n\nexport class TableFactory implements PromptFactory {\n  create(body: unknown, context: PromptContext): JSX.Element | null {\n    if (isPropsUIPromptConsentFormTable(body)) {\n      const { id, number, title, description, data_frame } = body;\n      const dataFrame = JSON.parse(data_frame);\n\n      // Translate the column headers when overrides are provided\n      const headers = body.headers || {};\n      const headCells = Object.keys(dataFrame).map((column: string) => {\n        const text = headers[column] \n          ? Translator.translate(headers[column], context.locale) \n          : column;\n        \n        return { \n          __type__: \"PropsUITableCell\" as const, \n          text \n        };\n      });\n      const head = { __type__: \"PropsUITableHead\" as const, cells: headCells };\n      \n      const rows = Object.keys(dataFrame[Object.keys(dataFrame)[0]] || {}).map(rowIndex => ({\n        __type__: \"PropsUITableRow\" as const,\n        id: rowIndex,\n        cells: Object.keys(dataFrame).map(column => ({\n          __type__: \"PropsUITableCell\" as const,\n          text: String(dataFrame[column][rowIndex])\n        }))\n      }));\n\n      const tableBody = { __type__: \"PropsUITableBody\" as const, rows };\n\n      const parsedTable: PropsUITable = {\n        __type__: 'PropsUITable',\n        id,\n        head,\n        body: tableBody\n      };\n\n      return React.createElement(ConsentTable, {\n        table: {\n          ...parsedTable,\n          number: number,\n          title: Translator.translate(title, context.locale),\n          description: description && Translator.translate(description, context.locale),\n          deletedRowCount: 0\n        },\n        context,\n        onChange: () => {}  // Tables in data submission page are read-only\n      });\n    }\n    return null;\n  }\n}\n\nexport class DonateButtonsFactory implements PromptFactory {\n  create(body: unknown, context: PromptContext): JSX.Element | null {\n    if (isPropsUIDataSubmissionButtons(body)) {\n      const { donateQuestion, donateButton, ...rest } = body;\n      const props = {\n        ...rest,\n        ...context,\n        donateQuestion,\n        donateButton,\n      };\n      return React.createElement(DonateButtons, props);\n    }\n    return null;\n  }\n}\n\nexport class TextBlockFactory implements PromptFactory {\n  create(body: unknown, context: ReactFactoryContext): JSX.Element | null {\n    if (isPropsUIPromptText(body)) {\n      return React.createElement(TextBlock, { ...body, ...context });\n    }\n    return null\n  }\n}\n\nexport const createPromptFactoriesWithDefaults = (factories: PromptFactory[]=[]): PromptFactory[] => {\n    return [\n        ...factories,\n        new FileInputFactory(),\n        new ProgressFactory(),\n        new ConfirmFactory(),\n        new RadioInputFactory(),\n        new TableFactory(),\n        new DonateButtonsFactory(),\n        new TextBlockFactory()\n    ];\n}\n","import { isInstanceOf } from '../helpers'\nimport { PropsUIRadioItem, Text } from './elements'\n\nexport type PropsUIPrompt =\n  PropsUIPromptFileInput |\n  PropsUIPromptProgress |\n  PropsUIPromptRadioInput |\n  PropsUIPromptConsentForm |\n  PropsUIPromptConfirm |\n  PropsUIPromptText\n\nexport function isPropsUIPrompt (arg: any): arg is PropsUIPrompt {\n  return isPropsUIPromptFileInput(arg) ||\n    isPropsUIPromptRadioInput(arg) ||\n    isPropsUIPromptConsentForm(arg) ||\n    isPropsUIPromptText(arg)\n}\n\nexport interface PropsUIPromptConfirm {\n  __type__: 'PropsUIPromptConfirm'\n  text: Text\n  ok: Text\n  cancel: Text\n}\nexport function isPropsUIPromptConfirm (arg: any): arg is PropsUIPromptConfirm {\n  return isInstanceOf<PropsUIPromptConfirm>(arg, 'PropsUIPromptConfirm', ['text', 'ok', 'cancel'])\n}\n\nexport interface PropsUIPromptFileInput {\n  __type__: 'PropsUIPromptFileInput'\n  description: Text\n  extensions: string\n}\nexport function isPropsUIPromptFileInput (arg: any): arg is PropsUIPromptFileInput {\n  return isInstanceOf<PropsUIPromptFileInput>(arg, 'PropsUIPromptFileInput', ['description', 'extensions'])\n}\n\nexport interface PropsUIPromptProgress {\n  __type__: 'PropsUIPromptProgress'\n  description: Text\n  message: string\n  percentage?: number\n}\nexport function isPropsUIPromptProgress (arg: any): arg is PropsUIPromptProgress {\n  return isInstanceOf<PropsUIPromptProgress>(arg, 'PropsUIPromptProgress', ['description', 'message'])\n}\n\nexport interface PropsUIPromptRadioInput {\n  __type__: 'PropsUIPromptRadioInput'\n  title: Text\n  description: Text\n  items: PropsUIRadioItem[]\n}\nexport function isPropsUIPromptRadioInput (arg: any): arg is PropsUIPromptRadioInput {\n  return isInstanceOf<PropsUIPromptRadioInput>(arg, 'PropsUIPromptRadioInput', ['title', 'description', 'items'])\n}\nexport interface PropsUIPromptConsentForm {\n  __type__: 'PropsUIPromptConsentForm'\n  description?: Text\n  donateQuestion?: Text\n  donateButton?: Text\n  tables: PropsUIPromptConsentFormTable[]\n}\nexport function isPropsUIPromptConsentForm (arg: any): arg is PropsUIPromptConsentForm {\n  return isInstanceOf<PropsUIPromptConsentForm>(arg, 'PropsUIPromptConsentForm', ['tables'])\n}\n\nexport interface PropsUIPromptConsentFormTable {\n  __type__: 'PropsUIPromptConsentFormTable'\n  id: string\n  number: number\n  title: Text\n  description: Text\n  data_frame: any,\n  headers?: Record<string, Text>\n}\nexport function isPropsUIPromptConsentFormTable (arg: any): arg is PropsUIPromptConsentFormTable {\n  return isInstanceOf<PropsUIPromptConsentFormTable>(arg, 'PropsUIPromptConsentFormTable', ['id', 'number', 'title', 'description', 'data_frame'])\n}\n\nexport interface PropsUIPromptText {\n  __type__: 'PropsUIPromptText'\n  text: Text\n  title?: Text\n}\nexport function isPropsUIPromptText (arg: any): arg is PropsUIPromptText {\n  return isInstanceOf<PropsUIPromptText>(arg, 'PropsUIPromptText', ['text'])\n}\n\nexport interface PropsUIDataSubmissionButtons {\n  __type__: 'PropsUIDataSubmissionButtons'\n  donateQuestion?: Text\n  donateButton?: Text\n  onDonate: () => void\n  onCancel: () => void\n  waiting: boolean\n}\n\nexport function isPropsUIDataSubmissionButtons(arg: any): arg is PropsUIDataSubmissionButtons {\n  return isInstanceOf<PropsUIDataSubmissionButtons>(arg, 'PropsUIDataSubmissionButtons', ['donateQuestion', 'donateButton']);\n}\n","import React, { JSX, useCallback } from \"react\";\nimport { Weak } from \"../../../../helpers\";\nimport TextBundle from \"../../../../text_bundle\";\nimport { Translator } from \"../../../../translator\";\nimport { Translatable } from \"../../../../types/elements\";\nimport { PropsUIPageDataSubmission } from \"../../../../types/pages\";\nimport { ReactFactoryContext } from \"../../factory\";\nimport { Title1 } from \"../elements/text\";\nimport { Page } from \"./templates/page\";\nimport { createPromptFactoriesWithDefaults, PromptContext } from \"../prompts/factory\";\n\ntype Props = Weak<PropsUIPageDataSubmission> & ReactFactoryContext;\n\nexport const DataSubmissionPage = (props: Props): JSX.Element => {\n  const { title } = prepareCopy(props);\n  const { locale } = props;\n  const promptFactories = createPromptFactoriesWithDefaults(\n    props.promptFactories\n  );\n  const DataSubmissionData = React.useRef<Map<string, string>>(new Map());\n\n  const onDataSubmissionDataChanged = useCallback((key: string, value: any)=> {\n    console.log(\"onDataSubmissionDataChanged\", key, value);\n    DataSubmissionData.current.set(key, value);\n  }, [DataSubmissionData]);\n\n  function onDonate(): void {\n    const DataSubmissionDataObject = Object.fromEntries(DataSubmissionData.current);\n    console.log(\"onDonate\", JSON.stringify(DataSubmissionDataObject));\n    props.resolve?.({ __type__: \"PayloadJSON\", value: JSON.stringify(DataSubmissionDataObject) });\n  }\n\n  function renderBodyItem(bodyItem: any, context: PromptContext): JSX.Element | null {\n    for (const factory of promptFactories) {\n      const element = factory.create(bodyItem, context);\n      if (element !== null) {\n        return element;\n      }\n    }\n    return null;\n  }\n\n  function renderBody(props: Props): JSX.Element[] {\n    const context = { locale: locale, resolve: props.resolve, onDataSubmissionDataChanged, onDonate};\n    const bodyItems = Array.isArray(props.body) ? props.body : [props.body];\n\n    return bodyItems.map((item, index) => {\n      const element = renderBodyItem(item, context);\n      if (element === null) {\n        throw new TypeError(`No factory found for body item at index ${index}`);\n      }\n      return <React.Fragment key={index}>{element}</React.Fragment>;\n    });\n  }\n\n  const body: JSX.Element = (\n    <>\n      <Title1 text={title} />\n      {renderBody(props)}\n    </>\n  );\n\n  return <Page body={body} />;\n};\n\ninterface Copy {\n  title: string;\n}\n\nfunction prepareCopy({ header: { title }, locale }: Props): Copy {\n  return {\n    title: Translator.translate(title, locale),\n  };\n}\n","import { PropsUIPage, isPropsUIPageDataSubmission } from \"../../../types/pages\";\nimport { ReactFactoryContext } from \"../factory\";\nimport { DataSubmissionPage } from \"../ui/pages/data_submission_page\";\nimport { PageFactory } from \"./base\";\nimport React from \"react\";\nimport { PromptFactory } from \"../ui/prompts/factory\";\n\nexport class DataSubmissionPageFactory implements PageFactory {\n  private promptFactories: PromptFactory[];\n\n  constructor({\n    promptFactories = [],\n  }: { promptFactories?: PromptFactory[] } = {}) {\n    this.promptFactories = promptFactories;\n  }\n\n  createPage(page: PropsUIPage, context: ReactFactoryContext) {\n    if (isPropsUIPageDataSubmission(page)) {\n      return (\n        <DataSubmissionPage\n          {...page}\n          {...context}\n          promptFactories={this.promptFactories}\n        />\n      );\n    }\n    return null;\n  }\n}\n","import { PropsUIPage } from \"../../types/pages\";\nimport { Payload } from \"../../types/commands\";\nimport { PageFactory } from \"./factories/base\";\nimport { EndPageFactory } from \"./factories/end_page\";\nimport { DataSubmissionPageFactory } from \"./factories/data_submission_page\";\nimport { JSX } from \"react\";\nimport React from \"react\";\n\nexport interface ReactFactoryContext {\n  locale: string;\n  resolve?: (payload: Payload) => void;\n}\n\nexport default class ReactFactory {\n  private factories: PageFactory[];\n\n  constructor(initialFactories: PageFactory[] = []) {\n    this.factories = [\n      ...initialFactories,\n      new EndPageFactory(),\n      new DataSubmissionPageFactory(),\n    ];\n  }\n\n  createPage(page: PropsUIPage, context: ReactFactoryContext): JSX.Element {\n    for (const factory of this.factories) {\n      const element = factory.createPage(page, context);\n      if (element !== null) {\n        return element;\n      }\n    }\n    throw TypeError(\"Unknown page: \" + JSON.stringify(page));\n  }\n\n  registerFactory(factory: PageFactory): void {\n    this.factories.push(factory);\n  }\n}\n","import { isInstanceOf } from '../helpers'\nimport { isPropsUIPage, PropsUIPage } from './pages'\n\nexport interface Table {\n  __type__: 'Table'\n  id: string\n  title: Text\n  data: any\n}\nexport function isTable (arg: any): arg is Table {\n  return isInstanceOf<Table>(arg, 'Table', ['id', 'title', 'data'])\n}\n\nexport interface Response {\n  __type__: 'Response'\n  command: Command\n  payload: Payload\n}\nexport function isResponse (arg: any): arg is Response {\n  return isInstanceOf<Response>(arg, 'Response', ['command', 'payload']) && isCommand(arg.command)\n}\n\nexport type Payload =\n  PayloadResolved |\n  PayloadRejected\n\nexport type PayloadRejected =\n  PayloadFalse |\n  PayloadError\n\nexport interface PayloadFalse {\n  __type__: 'PayloadFalse'\n  value: false\n}\n\nexport interface PayloadError {\n  __type__: 'PayloadError'\n  value: string\n}\n\nexport type PayloadResolved =\n  PayloadVoid |\n  PayloadTrue |\n  PayloadString |\n  PayloadFile |\n  PayloadJSON\n\nexport interface PayloadVoid {\n  __type__: 'PayloadVoid'\n  value: undefined\n}\n\nexport interface PayloadTrue {\n  __type__: 'PayloadTrue'\n  value: true\n}\n\nexport interface PayloadString {\n  __type__: 'PayloadString'\n  value: string\n}\n\nexport interface PayloadFile {\n  __type__: 'PayloadFile'\n  value: File\n}\n\nexport interface PayloadJSON {\n  __type__: 'PayloadJSON'\n  value: string\n}\nexport function isPayloadJSON (arg: any): arg is PayloadJSON {\n  return isInstanceOf<PayloadJSON>(arg, 'PayloadJSON', ['value'])\n}\n\nexport type Command =\n  CommandUI |\n  CommandSystem\n\nexport function isCommand (arg: any): arg is Command {\n  return isCommandUI(arg) || isCommandSystem(arg)\n}\n\nexport type CommandSystem =\n  CommandSystemDonate |\n  CommandSystemEvent |\n  CommandSystemExit\n\nexport function isCommandSystem (arg: any): arg is CommandSystem {\n  return isCommandSystemDonate(arg) || isCommandSystemEvent(arg) || isCommandSystemExit(arg)\n}\n\nexport interface CommandSystemEvent {\n  __type__: 'CommandSystemEvent'\n  name: string\n}\nexport function isCommandSystemEvent (arg: any): arg is CommandSystemEvent {\n  return isInstanceOf<CommandSystemEvent>(arg, 'CommandSystemEvent', ['name'])\n}\n\nexport interface CommandSystemExit {\n  __type__: 'CommandSystemExit'\n  code: number\n  info: string\n}\nexport function isCommandSystemExit (arg: any): arg is CommandSystemExit {\n  return isInstanceOf<CommandSystemExit>(arg, 'CommandSystemExit', ['code', 'info'])\n}\n\nexport type CommandUI =\n  CommandUIRender\n\nexport function isCommandUI (arg: any): arg is CommandUI {\n  return isCommandUIRender(arg)\n}\n\nexport interface CommandSystemDonate {\n  __type__: 'CommandSystemDonate'\n  key: string\n  json_string: string\n}\nexport function isCommandSystemDonate (arg: any): arg is CommandSystemDonate {\n  return isInstanceOf<CommandSystemDonate>(arg, 'CommandSystemDonate', ['key', 'json_string'])\n}\n\nexport interface CommandUIRender {\n  __type__: 'CommandUIRender'\n  page: PropsUIPage\n}\nexport function isCommandUIRender (arg: any): arg is CommandUIRender {\n  return isInstanceOf<CommandUIRender>(arg, 'CommandUIRender', ['page']) && isPropsUIPage(arg.page)\n}\n","import { Command, Response, isCommandSystem, isCommandSystemExit, isCommandUI, CommandUI, CommandSystem } from './types/commands'\nimport { CommandHandler, Bridge } from './types/modules'\nimport ReactEngine from './visualization/react/engine'\n\nexport default class CommandRouter implements CommandHandler {\n  bridge: Bridge\n  visualizationEngine: ReactEngine\n\n  constructor (bridge: Bridge, visualizationEngine: ReactEngine) {\n    this.bridge = bridge\n    this.visualizationEngine = visualizationEngine\n  }\n\n  async onCommand (command: Command): Promise<Response> {\n    return await new Promise<Response>((resolve, reject) => {\n      if (isCommandSystem(command)) {\n        this.onCommandSystem(command, resolve)\n      } else if (isCommandUI(command)) {\n        this.onCommandUI(command, resolve)\n      } else {\n        reject(new TypeError('[CommandRouter] Unknown command' + JSON.stringify(command)))\n      }\n    })\n  }\n\n  onCommandSystem (command: CommandSystem, resolve: (response: Response) => void): void {\n    this.bridge.send(command)\n\n    if (isCommandSystemExit(command)) {\n      console.log('[CommandRouter] Application exit')\n    } else {\n      resolve({ __type__: 'Response', command, payload: { __type__: 'PayloadVoid', value: undefined } })\n    }\n  }\n\n  onCommandUI (command: CommandUI, resolve: (response: Response) => void): void {\n    this.visualizationEngine.render(command)\n      .then((response) => {\n        if (!response || !response.__type__) {\n          console.error('[CommandRouter] Invalid response:', response);\n          resolve({ \n            __type__: 'Response', \n            command, \n            payload: { __type__: 'PayloadVoid', value: undefined } \n          });\n        } else {\n          resolve(response);\n        }\n      })\n      .catch((error) => {\n        console.error('[CommandRouter] Error:', error);\n        resolve({ \n          __type__: 'Response', \n          command, \n          payload: { __type__: 'PayloadVoid', value: undefined } \n        });\n      });\n  }\n}\n","import { CommandHandler } from '../types/modules'\nimport { CommandSystemEvent, isCommand, Response } from '../types/commands'\n\nexport default class WorkerProcessingEngine  {\n  sessionId: String\n  worker: Worker\n  commandHandler: CommandHandler\n\n  resolveInitialized!: () => void\n  resolveContinue!: () => void\n\n  constructor (sessionId: string, worker: Worker, commandHandler: CommandHandler) {\n    this.sessionId = sessionId\n    this.commandHandler = commandHandler\n    this.worker = worker\n    this.worker.onerror = console.log\n    this.worker.onmessage = (event) => {\n      console.log(\n        '[WorkerProcessingEngine] Received event from worker: ',\n        event.data.eventType\n      )\n      this.handleEvent(event)\n    }\n  }\n\n  sendSystemEvent (name: string): void {\n    const command: CommandSystemEvent = { __type__: 'CommandSystemEvent', name }\n    this.commandHandler.onCommand(command).then(\n      () => {},\n      () => {}\n    )\n  }\n\n  handleEvent (event: any): void {\n    const { eventType } = event.data\n    console.log('[ReactEngine] received eventType: ', eventType)\n    switch (eventType) {\n      case 'initialiseDone':\n        console.log('[ReactEngine] received: initialiseDone')\n        this.resolveInitialized()\n        break\n\n      case 'runCycleDone':\n        console.log('[ReactEngine] received: event', event.data.scriptEvent)\n        this.handleRunCycle(event.data.scriptEvent)\n        break\n      default:\n        console.log(\n          '[ReactEngine] received unsupported flow event: ',\n          eventType\n        )\n    }\n  }\n\n  start (): void {\n    console.log('[WorkerProcessingEngine] started')\n    const waitForInitialization: Promise<void> = this.waitForInitialization()\n\n    waitForInitialization.then(\n      () => {\n        this.sendSystemEvent('initialized')\n        this.firstRunCycle()\n      },\n      () => {}\n    )\n  }\n\n  async waitForInitialization (): Promise<void> {\n    return await new Promise<void>((resolve) => {\n      this.resolveInitialized = resolve\n      console.debug('[WorkerProcessingEngine] waiting for initialisation')\n      this.worker.postMessage({ eventType: 'initialise' })\n    })\n  }\n\n  firstRunCycle (): void {\n    this.worker.postMessage({ eventType: 'firstRunCycle', sessionId: this.sessionId })\n  }\n\n  nextRunCycle (response: Response): void {\n    console.log('[WorkerProcessingEngine] nextRunCycle');\n    this.worker.postMessage({ eventType: 'nextRunCycle', response })\n  }\n\n  terminate (): void {\n    this.worker.terminate()\n  }\n\n  handleRunCycle (command: any): void {\n    if (isCommand(command)) {\n      this.commandHandler.onCommand(command).then(\n        (response) => this.nextRunCycle(response),\n        () => {}\n      )\n    } \n  }\n}\n","import { Bridge } from \"./types/modules\";\nimport ReactEngine from \"./visualization/react/engine\";\nimport ReactFactory from \"./visualization/react/factory\";\nimport { PageFactory } from \"./visualization/react/factories/base\";\nimport CommandRouter from './command_router'\nimport WorkerProcessingEngine from \"./processing/worker_engine\";\n\nexport default class Assembly {\n  processingEngine: WorkerProcessingEngine;\n  visualizationEngine: ReactEngine;\n  router: CommandRouter\n\n  constructor(worker: Worker, bridge: Bridge, factories: PageFactory[] = []) {\n    const sessionId = String(Date.now())\n    const visualizationFactory = new ReactFactory(factories);\n    this.visualizationEngine = new ReactEngine(visualizationFactory);\n    this.router = new CommandRouter(bridge, this.visualizationEngine)\n    this.processingEngine = new WorkerProcessingEngine(sessionId, worker, this.router);\n  }\n}\n","import { CommandSystem, isCommandSystem } from './framework/types/commands'\nimport { Bridge } from './framework/types/modules'\n\nexport class LiveBridge implements Bridge {\n  port: MessagePort\n  static initialized = false\n\n  constructor (port: MessagePort) {\n    this.port = port\n  }\n\n  static create (window: Window, callback: (bridge: Bridge, locale: string) => void): void {\n    window.addEventListener('message', (event) => {\n      console.log('MESSAGE RECEIVED', event)\n      // Ensure initialization happens only once\n      if (event.data.action === 'live-init' && !LiveBridge.initialized) {\n        LiveBridge.initialized = true\n        const bridge = new LiveBridge(event.ports[0])\n        const locale = event.data.locale\n        console.log('LOCALE', locale)\n        callback(bridge, locale)\n      }\n    })\n  }\n\n  send (command: CommandSystem): void {\n    if (isCommandSystem(command)) {\n      this.log('info', 'send', command)\n      this.port.postMessage(command)\n    } else {\n      this.log('error', 'received unknown command', command)\n    }\n  }\n\n  private log (level: 'info' | 'error', ...message: any[]): void {\n    const logger = level === 'info' ? console.log : console.error\n    logger('[LiveBridge]', ...message)\n  }\n}\n","import { CommandSystem, CommandSystemDonate, CommandSystemExit, isCommandSystemDonate, isCommandSystemExit } from './framework/types/commands'\nimport { Bridge } from './framework/types/modules'\n\nexport default class FakeBridge implements Bridge {\n  send (command: CommandSystem): void {\n    if (isCommandSystemDonate(command)) {\n      this.handleDataSubmission(command)\n    } else if (isCommandSystemExit(command)) {\n      this.handleExit(command)\n    } else {\n      console.log('[FakeBridge] received unknown command: ' + JSON.stringify(command))\n    }\n  }\n\n  async handleDataSubmission (command: CommandSystemDonate): Promise<void> {\n    console.log(`[FakeBridge] received dataSubmission: ${command.key}=${command.json_string}`);\n    // Post the data, this allows testing the data submission\n    try {\n      const response = await fetch('/data-submission', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({key: command.key, data: command.json_string}),\n      });\n\n      if (!response.ok) {\n        console.error(`[FakeBridge] Data submission failed with status: ${response.status}`);\n      } else {\n        console.log(`[FakeBridge] Data submission succeeded with status: ${response.status}`);\n      }\n    } catch (error) {\n      console.error(`[FakeBridge] Error during data submission:`, error);\n    }\n  }\n\n  handleExit (command: CommandSystemExit): void {\n    console.log(`[FakeBridge] received exit: ${command.code}=${command.info}`)\n  }\n}\n","import React, { createContext, useState, useContext, ReactNode } from \"react\";\nimport { JSX } from \"react\";\n\ninterface VisualizationState {\n  elements: JSX.Element[];\n}\n\ninterface VisualizationContextType {\n  state: VisualizationState;\n  setState: (state: VisualizationState) => void;\n}\n\nconst VisualizationContext = createContext<\n  VisualizationContextType | undefined\n>(undefined);\n\nexport const VisualizationProvider: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const [state, setState] = useState<VisualizationState>({ elements: [] });\n\n  return (\n    <VisualizationContext.Provider value={{ state, setState }}>\n      {children}\n    </VisualizationContext.Provider>\n  );\n};\n\nexport const useVisualization = () => {\n  const context = useContext(VisualizationContext);\n  if (!context) {\n    throw new Error(\n      \"useVisualization must be used within a VisualizationProvider\"\n    );\n  }\n  return context;\n};\n","import { useEffect, useRef } from \"react\";\nimport Assembly from \"../framework/assembly\";\nimport { Bridge } from \"../framework/types/modules\";\nimport { LiveBridge } from \"../live_bridge\";\nimport FakeBridge from \"../fake_bridge\";\nimport React from \"react\";\nimport {\n  VisualizationProvider,\n  useVisualization,\n} from \"../framework/visualization/react/context\";\nimport { PageFactory } from \"../framework/visualization/react/factories/base\";\n\nexport interface ScriptHostProps {\n  workerUrl: string;\n  locale?: string;\n  standalone?: boolean;\n  className?: string;\n  factories?: PageFactory[];\n}\n\nconst FeldsparContent: React.FC<ScriptHostProps> = ({\n  workerUrl,\n  locale = \"nl\",\n  standalone = false,\n  className,\n  factories = [],\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const assemblyRef = useRef<Assembly | null>(null);\n  const workerRef = useRef<Worker | null>(null);\n  const { setState, state } = useVisualization();\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    const worker = new Worker(workerUrl);\n    workerRef.current = worker;\n\n    const run = (bridge: Bridge, selectedLocale: string = locale) => {\n      const assembly = new Assembly(worker, bridge, factories);\n      assembly.visualizationEngine.start(\n        containerRef.current!,\n        selectedLocale,\n        setState\n      );\n      assembly.processingEngine.start();\n      assemblyRef.current = assembly;\n    };\n\n    if (!standalone && process.env.NODE_ENV === \"production\") {\n      console.log(\"Initializing bridge system\");\n      LiveBridge.create(window, run);\n    } else {\n      console.log(\"Running with fake bridge\");\n      run(new FakeBridge());\n    }\n\n    const observer = new ResizeObserver(() => {\n      const height = window.document.documentElement.getBoundingClientRect().height;\n      window.parent.postMessage({ action: \"resize\", height }, \"*\");\n    });\n\n    observer.observe(window.document.body);\n\n    // Send a message to the parent window indicating that the app has loaded. This is used\n    // to trigger the setup of the channel between the iframe and the parent window.\n    window.parent.postMessage({ action: 'app-loaded' }, '*')\n\n\n    return () => {\n      observer.disconnect();\n      setTimeout(() => {\n        assemblyRef.current?.visualizationEngine.terminate();\n        assemblyRef.current?.processingEngine.terminate();\n        if (workerRef.current) {\n          workerRef.current.terminate();\n          workerRef.current = null;\n        }\n      }, 0);\n    };\n  }, [workerUrl, locale, standalone, setState, factories]);\n\n  return (\n    <div ref={containerRef} className={className}>\n      {state.elements}\n    </div>\n  );\n};\n\nexport const ScriptHostComponent: React.FC<ScriptHostProps> = (props) => (\n  <VisualizationProvider>\n    <FeldsparContent {...props} />\n  </VisualizationProvider>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}